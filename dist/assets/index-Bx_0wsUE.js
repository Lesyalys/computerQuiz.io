(function(){const j=document.createElement("link").relList;if(j&&j.supports&&j.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))le(S);new MutationObserver(S=>{for(const ce of S)if(ce.type==="childList")for(const $ of ce.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&le($)}).observe(document,{childList:!0,subtree:!0});function J(S){const ce={};return S.integrity&&(ce.integrity=S.integrity),S.referrerPolicy&&(ce.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?ce.credentials="include":S.crossOrigin==="anonymous"?ce.credentials="omit":ce.credentials="same-origin",ce}function le(S){if(S.ep)return;S.ep=!0;const ce=J(S);fetch(S.href,ce)}})();const Br=['url("/computerQuiz.io/imgLight/modalBack.png")','url("/computerQuiz.io/imgLight/modalBack2.png")','url("/computerQuiz.io/imgLight/modalBack3.png")'],Vn=[{name:"Периферийные устройства",questions:[{text:"Назовите тип интерфейса, изображённого на рисунке:",img:"usb.png",answer:"Разъём USB Type-C",points:10},{text:"К какому типу периферийных устройств относится клавиатура?",img:"click.png",answer:"Устройство ввода",points:20},{text:"Как называется устройство для ввода рукописного текста и рисунков в компьютер? ",img:null,answer:"Графический планшет",points:30},{text:"Какой тип принтера использует порошковый краситель для печати?",img:null,answer:"Лазерный принтер",points:40},{text:"Как называется данный разьем?",img:"rca.jpg",answer:"SPDIF 'тюльпан'",points:50},{text:"Какой цвет разъема PS/2 обычно используется для подключения клавиатуры?",img:null,answer:"Фиолетовый ",points:60},{text:"Как называется устройство, преобразующее аналоговый видеосигнал с ТВ-антенны или кабельного телевидения в цифровой формат, пригодный для воспроизведения на компьютере?",img:null,answer:"TV-тюнер",points:70},{text:"Какой интерфейс передачи данных, использующий дифференциальную передачу и поддерживающий скорости до 10 Гбит/с, пришёл на смену USB 2.0?",img:null,answer:"USB 3.0 / USB 3.1",points:80},{text:"Какое устройство позволяет преобразовать аналоговые сигналы, полученные  с физических датчиков (температуры, давления и т.д.), в цифровой вид для анализа на компьютере?",img:null,answer:"АЦП — Аналого-цифровой преобразователь",points:90},{text:"Какой интерфейс, используемый в профессиональной сфере, позволяет передавать данные между компьютером и аудиоустройствами с высокой пропускной способностью, был разработан компанией Apple?",img:null,answer:"Thunderbolt или FireWire",points:100}]},{name:"Архитектура компьютера",questions:[{text:"Как называется этот компонент компьютера? ",img:"cp.png",answer:"Процессор, CPU",points:10},{text:"Какое устройство преобразует переменный ток (AC) из розетки (~220 В) в постоянный (DC), необходимый для работы компонентов ПК",img:null,answer:"Блок питания",points:20},{text:"Как называется область памяти в процессоре, используемая для хранения промежуточных результатов вычислений и управления?",img:null,answer:"Регистр",points:30},{text:"какой тип архитектуры изображен на картинке?",img:"garv.png",answer:"Гарвардская архитектура",points:40},{text:"Какой компонент компьютера хранит данные и инструкции, необходимые для текущих вычислений, но теряет их при выключении питания?",img:null,answer:"Оперативная память, RAM",points:50},{text:"Какое поколение памяти представленно на изображении:",answer:"SDRAM",img:"ram.png",points:60},{text:"Как называется шина, соединяющая процессор, оперативную память и другие устройства? ",img:null,answer:"Системная шина",points:70},{text:"Как называется высокоскоростная память, используемая процессором для временного хранения часто используемых данных, которая делится на уровни L1, L2 и L3?",img:null,answer:"Кеш-память процессора",points:80},{text:"Как называется микросхема или набор микросхем, который управляет работой материнской платы и взаимодействием её компонентов?  ",img:null,answer:"Чипсет",points:90},{text:"Как называется кэш центрального процессора,используемый для ускорения трансляции адреса виртуальной памяти в адрес физической памяти",img:null,answer:"Буфер ассоциативной трансляции (Translation lookaside buffer)",points:100}]},{name:"История вычислительной техники",questions:[{text:"Кто считается создателем первого программируемого электромеханического компьютера?",img:null,answer:"Конрад Цузе",points:10},{text:"Как назывался первый массово произведённый персональный компьютер?",img:null,answer:"IBM PC 5150",points:20},{text:"Какой компьютер изображён на фото?",img:"babig.png",answer:"Аналитическая машина Чарльза Бэббиджа",points:30},{text:"Как звали женщину, считающуюся первой программисткой, которая писала алгоритмы для аналитической машины?",img:null,answer:"Ада Лавлейс",points:40},{text:"Какой ноутбук изображён на фото?",img:"obs.png",answer:"Osborne 1",points:50},{text:"Какой советский инженер возглавлял разработку первой советской ЭВМ «МЭСМ», запущенной в 1951 году?",img:null,answer:"Сергей Алексеевич Лебедев",points:60},{text:"Какая компания выпустила первый коммерческий микропроцессор?",img:null,answer:"Intel — 4004 в 1971 году",points:70},{text:"Какая серия компьютеров изображена на фото?",img:"ec.png",answer:"ЕС ЭВМ (Единая Система ЭВМ)",points:80},{text:"Как назывался первый в мире компьютер с хранимой в памяти программой?",img:null,answer:"Манчестерская «Baby» (Manchester Small-Scale Experimental Machine)",points:90},{text:"Какая операционная система была установлена на первом Macintosh, выпущенном в 1984 году?",img:null,answer:"System 1 (Macintosh System Software)",points:100}]},{name:"Программное обеспечение",questions:[{text:"Какая операционная система изображена на фото?",img:"win.png",answer:"Windows",points:10},{text:"Программа, которая интерпретирует машинный код, обеспечивает взаимодействие между прикладными программами и оборудованием это...",img:null,answer:"Операционная система (ОС)",points:20},{text:"Как называется тип программного обеспечения, исходный код которого открыт и доступен для изменения пользователями?",img:null,answer:"Свободное (open-source) программное обеспечение",points:30},{text:"Какая технология позволяет запускать несколько виртуальных ОС на одном ПК?",answer:"Виртуализация",img:null,points:40},{text:"Какой язык программирования, разработанный Деннисом Ритчи в 1972 году, до сих пор используется для написания ядра большинства операционных систем? ",img:null,answer:"C",points:50},{text:"Как называется программный компонент, обеспечивающий пользователю взаимодействие с операционной системой через окна, кнопки и пиктограммы?",img:null,answer:"Графический интерфейс, GUI",points:60},{text:"Как называеться стандартная файловая система для семейства операционных систем Windows NT фирмы Microsoft?  ",img:null,answer:"NTFS",points:70},{text:"Механизм, предотвращающий копирование и модификацию программного кода, применяемый в коммерческом ПО и играх называется...",img:null,answer:"DRM",points:80},{text:"Прошивка  (Firmware), которая инициализирует оборудование до загрузки ОС, называется",img:null,answer:"BIOS / UEFI",points:90},{text:"Как называется подход к разработке программного обеспечения, при котором создаются независимые модули, взаимодействующие через API?",img:null,answer:"Сервис-ориентированная архитектура (SOA / Microservices)",points:100}]},{name:"Алгоритмы и вычисления",questions:[{text:"Как называется точная и конечная последовательность действий, предназначенная для решения поставленной задачи?",img:null,answer:"Алгоритм",points:10},{text:"Как называется метод поиска элемента в отсортированном массиве с делением на части? ",img:null,answer:"Бинарный поиск",points:20},{text:"Какая структура данных работает по принципу «первый вошёл – первый вышел»?",img:null,answer:"Очередь",points:30},{text:"Как называется способ сортировки списка путем сравнения соседних элементов и обмена местами, если следующий элемент меньше предыдущего? ",img:"buble.jpg",answer:"Сортировка пузырьком",points:40},{text:"Как называется алгоритм обхода дерева, который посещает узлы в порядке 'левый потомок --> родитель --> правый потомок'?",img:null,answer:"Центрированный обход (In-order traversal) / ЛКП",points:50},{text:"Какой алгоритм используется для нахождения кратчайшего пути в графе?",img:null,answer:"Алгоритм Дейкстры",points:60},{text:"Назовите основную цель алгоритма Евклида",img:"evclid.jpg",answer:"Поиск наибольшего общего делителя (НОД)",points:70},{text:"Как называется нотация,которая показывает как будет изменяться вычислительная сложность алгоритма с изменением количества входных данных в худшем для алгоритма случае?",img:null,answer:"Большое O (Big O notation) / О-нотация",points:80},{text:"Как называется алгоритм для нахождения минимального остовного дерева в связном взвешенном графе?",img:"three.png",answer:"Алгоритм Краскала (или Алгоритм Прима)",points:90},{text:"В чём заключается принцип работы квантовых вычислений по сравнению с классическими?",img:null,answer:"Использование кубитов, суперпозиции и квантового запутывания",points:100}]}],O={teams:[],usedQuestions:[],currentQuestion:null,timer:null,timeLeft:60,gameStarted:!1,timerExpired:!1,questionClosedManually:!1},z={teamsContainer:document.getElementById("teamsContainer"),addTeam:document.getElementById("addTeam"),startGame:document.getElementById("startGame"),gameBoard:document.getElementById("gameBoard"),categories:document.getElementById("categories"),teamsScore:document.getElementById("teamsScore"),questionModal:document.getElementById("questionModal"),modalQuestionText:document.getElementById("modalQuestionText"),timer:document.getElementById("timer"),correctAnswer:document.getElementById("correctAnswer"),modalTeamsScore:document.getElementById("modalTeamsScore"),showAnswer:document.getElementById("showAnswer"),addPoints:document.getElementById("addPoints"),closeModal:document.getElementById("closeModal"),restartGame:document.getElementById("restartGame"),darckShem:document.getElementById("logoNVSU")};function kr(){z.modalTeamsScore.innerHTML="",O.teams.forEach((F,j)=>{const J=document.createElement("div");J.className="team-score",J.innerHTML=`
            <input type="radio" name="modal-team" id="modal-team-${j}" value="${j}">
            <label for="modal-team-${j}">
                <div class="team-name">${F.name}</div>
                <div class="team-points">${F.points}</div>
            </label>
        `,z.modalTeamsScore.appendChild(J)})}function Un(){z.teamsScore.innerHTML="",O.teams.forEach(F=>{const j=document.createElement("div");j.className="team-score",j.innerHTML=`
            <div class="team-name">${F.name}</div>
            <div class="team-points">${F.points}</div>
        `,z.teamsScore.appendChild(j)})}function vi(){let F=O.teams[0],j=!1;for(let S=1;S<O.teams.length;S++)O.teams[S].points>F.points?(F=O.teams[S],j=!1):O.teams[S].points===F.points&&(j=!0);const J=document.getElementById("winnerModal"),le=document.getElementById("winnerInfo");j?(document.getElementById("winnerTitle").textContent="Ничья!",le.innerHTML=`
             <p>Несколько команд набрали одинаковое количество очков:</p>
             ${O.teams.filter(S=>S.points===F.points).map(S=>`<p><strong>${S.name}</strong> - ${S.points} очков</p>`).join("")}
         `):le.innerHTML=`
             <p>Победила команда <strong>${F.name}</strong>!</p>
             <p>С результатом: <strong>${F.points}</strong> очков</p>
         `,J.style.display="flex"}function Vr(){const F=Vn.reduce((j,J)=>j+J.questions.length,0);O.usedQuestions.length===F&&vi()}function bn(){clearInterval(O.timer),z.questionModal.style.display="none",(O.questionClosedManually||O.timerExpired)&&!O.usedQuestions.some(F=>{var j,J;return F.category===((j=O.currentQuestion)==null?void 0:j.category)&&F.question===((J=O.currentQuestion)==null?void 0:J.question)})&&(O.usedQuestions.push({category:O.currentQuestion.category,question:O.currentQuestion.question}),$n(),Vr()),O.currentQuestion=null}z.closeModal.addEventListener("click",()=>{O.questionClosedManually=!0,bn()});function Wn(){const F=Array.from(document.querySelectorAll('input[name="modal-team"]:checked'))[0];if(F){const j=F.value,J=O.currentQuestion.points;O.teams[j].points+=J,O.usedQuestions.push({category:O.currentQuestion.category,question:O.currentQuestion.question}),Un(),kr(),$n(),Vr(),bn()}}function Nn(){clearInterval(O.timer),z.correctAnswer.style.display="block",z.showAnswer.classList.add("disabled"),z.showAnswer.removeEventListener("click",Nn),O.timerExpired||(z.addPoints.classList.remove("disabled"),z.addPoints.addEventListener("click",Wn))}function gi(F,j){if(O.usedQuestions.some($=>$.category===F&&$.question===j))return;const le=Vn[F].questions[j];let S=le.text;le.img&&(S=`
            <div class="question-text">${le.text}</div>
            <div class="question-image-container">
                <img src="/computerQuiz.io/imgQuestion/${le.img}" alt="Иллюстрация к вопросу">
            </div>
        `),O.currentQuestion={category:F,question:j,...le};const ce=Br[Math.floor(Math.random()*Br.length)];document.querySelector(".modal-content").style.backgroundImage=ce,z.modalQuestionText.innerHTML=S,z.correctAnswer.textContent=le.answer,z.correctAnswer.style.display="none",z.questionModal.style.display="flex",z.addPoints.classList.add("disabled"),z.addPoints.removeEventListener("click",Wn),z.showAnswer.classList.remove("disabled"),z.showAnswer.addEventListener("click",Nn),kr(),O.timerExpired=!1,O.questionClosedManually=!1}function $n(){z.categories.innerHTML="",Vn.forEach((F,j)=>{const J=document.createElement("div");J.className="category";const le=document.createElement("div");le.className="category-name",le.textContent=F.name,J.appendChild(le);const S=document.createElement("div");S.className="questions",F.questions.forEach((ce,$)=>{const U=document.createElement("div");U.className="question",U.textContent=ce.points,U.dataset.category=j,U.dataset.question=$,O.usedQuestions.some(Ae=>Ae.category===j&&Ae.question===$)?U.classList.add("used"):U.addEventListener("click",()=>gi(j,$)),S.appendChild(U)}),J.appendChild(S),z.categories.appendChild(J)})}function kn(){O.gameStarted=!0,document.querySelector(".setup").style.display="none",z.gameBoard.style.display="block",$n(),Un()}function Ur(){const F=O.teams.length>=2&&O.teams.every(j=>j.name.length>0)||O.teams.length>=2;console.log(F),F?(z.startGame.classList.remove("disabled"),z.startGame.addEventListener("click",kn)):(z.startGame.classList.add("disabled"),z.startGame.removeEventListener("click",kn))}function yi(){z.teamsContainer.querySelectorAll(".team-input").forEach((j,J)=>{j.querySelector("label").textContent=`Команда ${J+1}`,j.querySelector("div").querySelector("input").setAttribute("id",`team-${J}`),j.querySelector("div").querySelector("div").setAttribute("id",`remove-${J}`)})}function wi(){setTimeout(()=>{try{if(O.teams.length<=2)throw new Error("Должно остаться минимум 2 команды!");const F=this.attributes[1].nodeValue,j=+F.slice(F.indexOf("-")+1);this.parentElement.parentElement.remove(),O.teams=O.teams.slice(0,j).concat(O.teams.slice(j+1)),yi(),Ur()}catch(F){console.error("Ошибка при удалении команды:",F.message),alert(F.message)}},500)}var wn={exports:{}},bi=wn.exports,Dr;function _i(){return Dr||(Dr=1,function(F,j){(function(le,S){F.exports=S()})(bi,()=>(()=>{var J=[,($,U,G)=>{G.r(U),G.d(U,{default:()=>oe});var Ae=(()=>{var be=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(D={}){var c=D,Le,_e;c.ready=new Promise((e,t)=>{Le=e,_e=t});function He(){function e(f){const m=o;r=t=0,o=new Map,m.forEach(v=>{try{v(f)}catch(h){console.error(h)}}),this.ob(),s&&s.Tb()}let t=0,r=0,o=new Map,s=null,u=null;this.requestAnimationFrame=function(f){t||(t=requestAnimationFrame(e.bind(this)));const m=++r;return o.set(m,f),m},this.cancelAnimationFrame=function(f){o.delete(f),t&&o.size==0&&(cancelAnimationFrame(t),t=0)},this.Rb=function(f){u&&(document.body.remove(u),u=null),f||(u=document.createElement("div"),u.style.backgroundColor="black",u.style.position="fixed",u.style.right=0,u.style.top=0,u.style.color="white",u.style.padding="4px",u.innerHTML="RIVE FPS",f=function(m){u.innerHTML="RIVE FPS "+m.toFixed(1)},document.body.appendChild(u)),s=new function(){let m=0,v=0;this.Tb=function(){var h=performance.now();v?(++m,h-=v,1e3<h&&(f(1e3*m/h),m=v=0)):(v=h,m=0)}}},this.Ob=function(){u&&(document.body.remove(u),u=null),s=null},this.ob=function(){}}function ge(e){console.assert(!0);const t=new Map;let r=-1/0;this.push=function(o){return o=o+((1<<e)-1)>>e,t.has(o)&&clearTimeout(t.get(o)),t.set(o,setTimeout(function(){t.delete(o),t.length==0?r=-1/0:o==r&&(r=Math.max(...t.keys()),console.assert(r<o))},1e3)),r=Math.max(o,r),r<<e}}const he=c.onRuntimeInitialized;c.onRuntimeInitialized=function(){he&&he();let e=c.decodeAudio;c.decodeAudio=function(s,u){s=e(s),u(s)};let t=c.decodeFont;c.decodeFont=function(s,u){s=t(s),u(s)};const r=c.FileAssetLoader;c.ptrToAsset=s=>{let u=c.ptrToFileAsset(s);return u.isImage?c.ptrToImageAsset(s):u.isFont?c.ptrToFontAsset(s):u.isAudio?c.ptrToAudioAsset(s):u},c.CustomFileAssetLoader=r.extend("CustomFileAssetLoader",{__construct:function({loadContents:s}){this.__parent.__construct.call(this),this.Gb=s},loadContents:function(s,u){return s=c.ptrToAsset(s),this.Gb(s,u)}}),c.CDNFileAssetLoader=r.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(s){let u=c.ptrToAsset(s);return s=u.cdnUuid,s===""?!1:(function(f,m){var v=new XMLHttpRequest;v.responseType="arraybuffer",v.onreadystatechange=function(){v.readyState==4&&v.status==200&&m(v)},v.open("GET",f,!0),v.send(null)}(u.cdnBaseUrl+"/"+s,f=>{u.decode(new Uint8Array(f.response))}),!0)}}),c.FallbackFileAssetLoader=r.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.kb=[]},addLoader:function(s){this.kb.push(s)},loadContents:function(s,u){for(let f of this.kb)if(f.loadContents(s,u))return!0;return!1}});let o=c.computeAlignment;c.computeAlignment=function(s,u,f,m,v=1){return o.call(this,s,u,f,m,v)}};const De="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),pe=new function(){function e(){if(!t){let ee=function(M,Z,se){if(Z=A.createShader(Z),A.shaderSource(Z,se),A.compileShader(Z),se=A.getShaderInfoLog(Z),0<(se||"").length)throw se;A.attachShader(M,Z)};var L=ee,d=document.createElement("canvas"),w={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let A;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(A=d.getContext("webgl",w),r=1,!A)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(A=d.getContext("webgl2",w))r=2;else if(A=d.getContext("webgl",w))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(A=new Proxy(A,{get(M,Z){if(M.isContextLost()){if(v||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Z),v=!0),typeof M[Z]=="function")return function(){}}else return typeof M[Z]=="function"?function(...se){return M[Z].apply(M,se)}:M[Z]},set(M,Z,se){if(M.isContextLost())v||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Z),v=!0);else return M[Z]=se,!0}}),o=Math.min(A.getParameter(A.MAX_RENDERBUFFER_SIZE),A.getParameter(A.MAX_TEXTURE_SIZE)),d=A.createProgram(),ee(d,A.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),ee(d,A.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),A.bindAttribLocation(d,0,"vertex"),A.bindAttribLocation(d,1,"uv"),A.linkProgram(d),w=A.getProgramInfoLog(d),0<(w||"").trim().length)throw w;s=A.getUniformLocation(d,"mat"),u=A.getUniformLocation(d,"translate"),A.useProgram(d),A.bindBuffer(A.ARRAY_BUFFER,A.createBuffer()),A.enableVertexAttribArray(0),A.enableVertexAttribArray(1),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,A.createBuffer()),A.uniform1i(A.getUniformLocation(d,"image"),0),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t=A}return!0}let t=null,r=0,o=0,s=null,u=null,f=0,m=0,v=!1;e(),this.hc=function(){return e(),o},this.Mb=function(d){t.deleteTexture&&t.deleteTexture(d)},this.Lb=function(d){if(!e())return null;const w=t.createTexture();return w?(t.bindTexture(t.TEXTURE_2D,w),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,d),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),r==2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),w):null};const h=new ge(8),b=new ge(8),C=new ge(10),E=new ge(10);this.Qb=function(d,w,L,A,ee){if(e()){var M=h.push(d),Z=b.push(w);if(t.canvas){(t.canvas.width!=M||t.canvas.height!=Z)&&(t.canvas.width=M,t.canvas.height=Z),t.viewport(0,Z-w,d,w),t.disable(t.SCISSOR_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST),L.sort((X,nt)=>nt.wb-X.wb),M=C.push(A),f!=M&&(t.bufferData(t.ARRAY_BUFFER,8*M,t.DYNAMIC_DRAW),f=M),M=0;for(var se of L)t.bufferSubData(t.ARRAY_BUFFER,M,se.Ta),M+=4*se.Ta.length;console.assert(M==4*A);for(var tt of L)t.bufferSubData(t.ARRAY_BUFFER,M,tt.Db),M+=4*tt.Db.length;console.assert(M==8*A),M=E.push(ee),m!=M&&(t.bufferData(t.ELEMENT_ARRAY_BUFFER,2*M,t.DYNAMIC_DRAW),m=M),se=0;for(var Mt of L)t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,se,Mt.indices),se+=2*Mt.indices.length;console.assert(se==2*ee),Mt=0,tt=!0,M=se=0;for(const X of L){X.image.Ka!=Mt&&(t.bindTexture(t.TEXTURE_2D,X.image.Ja||null),Mt=X.image.Ka),X.mc?(t.scissor(X.Ya,Z-X.Za-X.jb,X.Ac,X.jb),tt=!0):tt&&(t.scissor(0,Z-w,d,w),tt=!1),L=2/d;const nt=-2/w;t.uniform4f(s,X.ha[0]*L*X.Ba,X.ha[1]*nt*X.Ca,X.ha[2]*L*X.Ba,X.ha[3]*nt*X.Ca),t.uniform2f(u,X.ha[4]*L*X.Ba+L*(X.Ya-X.ic*X.Ba)-1,X.ha[5]*nt*X.Ca+nt*(X.Za-X.jc*X.Ca)+1),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,M),t.vertexAttribPointer(1,2,t.FLOAT,!1,0,M+4*A),t.drawElements(t.TRIANGLES,X.indices.length,t.UNSIGNED_SHORT,se),M+=4*X.Ta.length,se+=2*X.indices.length}console.assert(M==4*A),console.assert(se==2*ee)}}},this.canvas=function(){return e()&&t.canvas}},we=c.onRuntimeInitialized;c.onRuntimeInitialized=function(){function e(y){switch(y){case h.srcOver:return"source-over";case h.screen:return"screen";case h.overlay:return"overlay";case h.darken:return"darken";case h.lighten:return"lighten";case h.colorDodge:return"color-dodge";case h.colorBurn:return"color-burn";case h.hardLight:return"hard-light";case h.softLight:return"soft-light";case h.difference:return"difference";case h.exclusion:return"exclusion";case h.multiply:return"multiply";case h.hue:return"hue";case h.saturation:return"saturation";case h.color:return"color";case h.luminosity:return"luminosity"}}function t(y){return"rgba("+((16711680&y)>>>16)+","+((65280&y)>>>8)+","+((255&y)>>>0)+","+((4278190080&y)>>>24)/255+")"}function r(){0<Z.length&&(pe.Qb(M.drawWidth(),M.drawHeight(),Z,se,tt),Z=[],tt=se=0,M.reset(512,512));for(const y of ee){for(const R of y.H)R();y.H=[]}ee.clear()}we&&we();var o=c.RenderPaintStyle;const s=c.RenderPath,u=c.RenderPaint,f=c.Renderer,m=c.StrokeCap,v=c.StrokeJoin,h=c.BlendMode,b=o.fill,C=o.stroke,E=c.FillRule.evenOdd;let d=1;var w=c.RenderImage.extend("CanvasRenderImage",{__construct:function({la:y,xa:R}={}){this.__parent.__construct.call(this),this.Ka=d,d=d+1&2147483647||1,this.la=y,this.xa=R},__destruct:function(){this.Ja&&(pe.Mb(this.Ja),URL.revokeObjectURL(this.Wa)),this.__parent.__destruct.call(this)},decode:function(y){var R=this;R.xa&&R.xa(R);var H=new Image;R.Wa=URL.createObjectURL(new Blob([y],{type:"image/png"})),H.onload=function(){R.Fb=H,R.Ja=pe.Lb(H),R.size(H.width,H.height),R.la&&R.la(R)},H.src=R.Wa}}),L=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(y,R,H,Y,k,q,Q){var ne=this.T,$e=ne.addPath;y=y.T;const Ce=new DOMMatrix;Ce.a=R,Ce.b=H,Ce.c=Y,Ce.d=k,Ce.e=q,Ce.f=Q,$e.call(ne,y,Ce)},fillRule:function(y){this.Va=y},moveTo:function(y,R){this.T.moveTo(y,R)},lineTo:function(y,R){this.T.lineTo(y,R)},cubicTo:function(y,R,H,Y,k,q){this.T.bezierCurveTo(y,R,H,Y,k,q)},close:function(){this.T.closePath()}}),A=u.extend("CanvasRenderPaint",{color:function(y){this.Xa=t(y)},thickness:function(y){this.Ib=y},join:function(y){switch(y){case v.miter:this.Ia="miter";break;case v.round:this.Ia="round";break;case v.bevel:this.Ia="bevel"}},cap:function(y){switch(y){case m.butt:this.Ha="butt";break;case m.round:this.Ha="round";break;case m.square:this.Ha="square"}},style:function(y){this.Hb=y},blendMode:function(y){this.Eb=e(y)},clearGradient:function(){this.ja=null},linearGradient:function(y,R,H,Y){this.ja={yb:y,zb:R,bb:H,cb:Y,Ra:[]}},radialGradient:function(y,R,H,Y){this.ja={yb:y,zb:R,bb:H,cb:Y,Ra:[],ec:!0}},addStop:function(y,R){this.ja.Ra.push({color:y,stop:R})},completeGradient:function(){},draw:function(y,R,H){let Y=this.Hb;var k=this.Xa,q=this.ja;if(y.globalCompositeOperation=this.Eb,q!=null){k=q.yb;var Q=q.zb;const $e=q.bb;var ne=q.cb;const Ce=q.Ra;q.ec?(q=$e-k,ne-=Q,k=y.createRadialGradient(k,Q,0,k,Q,Math.sqrt(q*q+ne*ne))):k=y.createLinearGradient(k,Q,$e,ne);for(let rt=0,Re=Ce.length;rt<Re;rt++)Q=Ce[rt],k.addColorStop(Q.stop,t(Q.color));this.Xa=k,this.ja=null}switch(Y){case C:y.strokeStyle=k,y.lineWidth=this.Ib,y.lineCap=this.Ha,y.lineJoin=this.Ia,y.stroke(R);break;case b:y.fillStyle=k,y.fill(R,H)}}});const ee=new Set;let M=null,Z=[],se=0,tt=0;var Mt=c.CanvasRenderer=f.extend("Renderer",{__construct:function(y){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=y.getContext("2d"),this.Ua=y,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const y=this.S.length-6;if(6>y)throw"restore() called without matching save().";this.S.splice(y),this.H.push(this.C.restore.bind(this.C))},transform:function(y,R,H,Y,k,q){const Q=this.S,ne=Q.length-6;Q.splice(ne,6,Q[ne]*y+Q[ne+2]*R,Q[ne+1]*y+Q[ne+3]*R,Q[ne]*H+Q[ne+2]*Y,Q[ne+1]*H+Q[ne+3]*Y,Q[ne]*k+Q[ne+2]*q+Q[ne+4],Q[ne+1]*k+Q[ne+3]*q+Q[ne+5]),this.H.push(this.C.transform.bind(this.C,y,R,H,Y,k,q))},rotate:function(y){const R=Math.sin(y);y=Math.cos(y),this.transform(y,R,-R,y,0,0)},_drawPath:function(y,R){this.H.push(R.draw.bind(R,this.C,y.T,y.Va===E?"evenodd":"nonzero"))},_drawRiveImage:function(y,R,H){var Y=y.Fb;if(Y){var k=this.C,q=e(R);this.H.push(function(){k.globalCompositeOperation=q,k.globalAlpha=H,k.drawImage(Y,0,0),k.globalAlpha=1})}},_getMatrix:function(y){const R=this.S,H=R.length-6;for(let Y=0;6>Y;++Y)y[Y]=R[H+Y]},_drawImageMesh:function(y,R,H,Y,k,q,Q,ne,$e,Ce){var rt=this.C.canvas.width,Re=this.C.canvas.height;const Sr=$e-Q,xr=Ce-ne;Q=Math.max(Q,0),ne=Math.max(ne,0),$e=Math.min($e,rt),Ce=Math.min(Ce,Re);const Yt=$e-Q,zt=Ce-ne;if(console.assert(Yt<=Math.min(Sr,rt)),console.assert(zt<=Math.min(xr,Re)),!(0>=Yt||0>=zt)){$e=Yt<Sr||zt<xr,rt=Ce=1;var Et=Math.ceil(Yt*Ce),Rt=Math.ceil(zt*rt);Re=pe.hc(),Et>Re&&(Ce*=Re/Et,Et=Re),Rt>Re&&(rt*=Re/Rt,Rt=Re),M||(M=new c.DynamicRectanizer(Re),M.reset(512,512)),Re=M.addRect(Et,Rt),0>Re&&(r(),ee.add(this),Re=M.addRect(Et,Rt),console.assert(0<=Re));var Fr=Re&65535,Or=Re>>16;Z.push({ha:this.S.slice(this.S.length-6),image:y,Ya:Fr,Za:Or,ic:Q,jc:ne,Ac:Et,jb:Rt,Ba:Ce,Ca:rt,Ta:new Float32Array(Y),Db:new Float32Array(k),indices:new Uint16Array(q),mc:$e,wb:y.Ka<<1|($e?1:0)}),se+=Y.length,tt+=q.length;var xt=this.C,mi=e(R);this.H.push(function(){xt.save(),xt.resetTransform(),xt.globalCompositeOperation=mi,xt.globalAlpha=H;const jr=pe.canvas();jr&&xt.drawImage(jr,Fr,Or,Et,Rt,Q,ne,Yt,zt),xt.restore()})}},_clipPath:function(y){this.H.push(this.C.clip.bind(this.C,y.T,y.Va===E?"evenodd":"nonzero"))},clear:function(){ee.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Ua.width,this.Ua.height))},flush:function(){},translate:function(y,R){this.transform(1,0,0,1,y,R)}});c.makeRenderer=function(y){const R=new Mt(y),H=R.C;return new Proxy(R,{get(Y,k){if(typeof Y[k]=="function")return function(...q){return Y[k].apply(Y,q)};if(typeof H[k]=="function"){if(-1<De.indexOf(k))throw Error("RiveException: Method call to '"+k+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...q){R.H.push(H[k].bind(H,...q))}}return Y[k]},set(Y,k,q){if(k in H)return R.H.push(()=>{H[k]=q}),!0}})},c.decodeImage=function(y,R){new w({la:R}).decode(y)},c.renderFactory={makeRenderPaint:function(){return new A},makeRenderPath:function(){return new L},makeRenderImage:function(){let y=nt;return new w({xa:()=>{y.total++},la:()=>{if(y.loaded++,y.loaded===y.total){const R=y.ready;R&&(R(),y.ready=null)}}})}};let X=c.load,nt=null;c.load=function(y,R,H=!0){const Y=new c.FallbackFileAssetLoader;return R!==void 0&&Y.addLoader(R),H&&(R=new c.CDNFileAssetLoader,Y.addLoader(R)),new Promise(function(k){let q=null;nt={total:0,loaded:0,ready:function(){k(q)}},q=X(y,Y),nt.total==0&&k(q)})};let pi=c.RendererWrapper.prototype.align;c.RendererWrapper.prototype.align=function(y,R,H,Y,k=1){pi.call(this,y,R,H,Y,k)},o=new He,c.requestAnimationFrame=o.requestAnimationFrame.bind(o),c.cancelAnimationFrame=o.cancelAnimationFrame.bind(o),c.enableFPSCounter=o.Rb.bind(o),c.disableFPSCounter=o.Ob,o.ob=r,c.resolveAnimationFrame=r,c.cleanup=function(){M&&M.delete()}};var Te=Object.assign({},c),Qe="./this.program",gt=typeof window=="object",it=typeof importScripts=="function",x="",Ye,ue;(gt||it)&&(it?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),be&&(x=be),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",it&&(ue=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Ye=(e,t,r)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{o.status==200||o.status==0&&o.response?t(o.response):r()},o.onerror=r,o.send(null)});var ke=c.print||console.log.bind(console),ye=c.printErr||console.error.bind(console);Object.assign(c,Te),Te=null,c.thisProgram&&(Qe=c.thisProgram);var Ke;c.wasmBinary&&(Ke=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&Se("no native wasm support detected");var Fe,ie,Pt=!1,Me,fe,Pe,Ze,W,te,me,Oe;function Ve(){var e=Fe.buffer;c.HEAP8=Me=new Int8Array(e),c.HEAP16=Pe=new Int16Array(e),c.HEAP32=W=new Int32Array(e),c.HEAPU8=fe=new Uint8Array(e),c.HEAPU16=Ze=new Uint16Array(e),c.HEAPU32=te=new Uint32Array(e),c.HEAPF32=me=new Float32Array(e),c.HEAPF64=Oe=new Float64Array(e)}var Ue,ot=[],dt=[],at=[];function yt(){var e=c.preRun.shift();ot.unshift(e)}var je=0,Je=null;function Se(e){throw c.onAbort&&c.onAbort(e),e="Aborted("+e+")",ye(e),Pt=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),_e(e),e}function Xt(e){return e.startsWith("data:application/octet-stream;base64,")}var ht;if(ht="canvas_advanced.wasm",!Xt(ht)){var Gt=ht;ht=c.locateFile?c.locateFile(Gt,x):x+Gt}function qt(e){if(e==ht&&Ke)return new Uint8Array(Ke);if(ue)return ue(e);throw"both async and sync fetching of the wasm failed"}function a(e){if(!Ke&&(gt||it)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>qt(e));if(Ye)return new Promise((t,r)=>{Ye(e,o=>t(new Uint8Array(o)),r)})}return Promise.resolve().then(()=>qt(e))}function n(e,t,r){return a(e).then(o=>WebAssembly.instantiate(o,t)).then(o=>o).then(r,o=>{ye("failed to asynchronously prepare wasm: "+o),Se(o)})}function i(e,t){var r=ht;return Ke||typeof WebAssembly.instantiateStreaming!="function"||Xt(r)||r.startsWith("file://")||typeof fetch!="function"?n(r,e,t):fetch(r,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,e).then(t,function(s){return ye("wasm streaming compile failed: "+s),ye("falling back to ArrayBuffer instantiation"),n(r,e,t)}))}var l,p,g={450700:(e,t,r,o,s)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=e,window.h.I.capture=t,window.h.I.La=r,window.h.ga={},window.h.ga.stopped=o,window.h.ga.xb=s;let u=window.h;u.D=[],u.yc=function(f){for(var m=0;m<u.D.length;++m)if(u.D[m]==null)return u.D[m]=f,m;return u.D.push(f),u.D.length-1},u.Cb=function(f){for(u.D[f]=null;0<u.D.length&&u.D[u.D.length-1]==null;)u.D.pop()},u.Sc=function(f){for(var m=0;m<u.D.length;++m)if(u.D[m]==f)return u.Cb(m)},u.ra=function(f){return u.D[f]},u.Bb=["touchend","click"],u.unlock=function(){for(var f=0;f<u.D.length;++f){var m=u.D[f];m!=null&&m.J!=null&&m.state===u.ga.xb&&m.J.resume().then(()=>{Er(m.pb)},v=>{console.error("Failed to resume audiocontext",v)})}u.Bb.map(function(v){document.removeEventListener(v,u.unlock,!0)})},u.Bb.map(function(f){document.addEventListener(f,u.unlock,!0)})}return window.h.Aa+=1,1},452878:()=>{typeof window.h<"u"&&(--window.h.Aa,window.h.Aa===0&&delete window.h)},453042:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,453146:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch{return 0}},453317:(e,t,r,o,s,u)=>{if(typeof window.h>"u")return-1;var f={},m={};return e==window.h.I.ya&&r!=0&&(m.sampleRate=r),f.J=new(window.AudioContext||window.webkitAudioContext)(m),f.J.suspend(),f.state=window.h.ga.stopped,r=0,e!=window.h.I.ya&&(r=t),f.Z=f.J.createScriptProcessor(o,r,t),f.Z.onaudioprocess=function(v){if((f.sa==null||f.sa.length==0)&&(f.sa=new Float32Array(me.buffer,s,o*t)),e==window.h.I.capture||e==window.h.I.La){for(var h=0;h<t;h+=1)for(var b=v.inputBuffer.getChannelData(h),C=f.sa,E=0;E<o;E+=1)C[E*t+h]=b[E];Rr(u,o,s)}if(e==window.h.I.ya||e==window.h.I.La)for(Pr(u,o,s),h=0;h<v.outputBuffer.numberOfChannels;++h)for(b=v.outputBuffer.getChannelData(h),C=f.sa,E=0;E<o;E+=1)b[E]=C[E*t+h];else for(h=0;h<v.outputBuffer.numberOfChannels;++h)v.outputBuffer.getChannelData(h).fill(0)},e!=window.h.I.capture&&e!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(v){f.Da=f.J.createMediaStreamSource(v),f.Da.connect(f.Z),f.Z.connect(f.J.destination)}).catch(function(v){console.log("Failed to get user media: "+v)}),e==window.h.I.ya&&f.Z.connect(f.J.destination),f.pb=u,window.h.yc(f)},456194:e=>window.h.ra(e).J.sampleRate,456267:e=>{e=window.h.ra(e),e.Z!==void 0&&(e.Z.onaudioprocess=function(){},e.Z.disconnect(),e.Z=void 0),e.Da!==void 0&&(e.Da.disconnect(),e.Da=void 0),e.J.close(),e.J=void 0,e.pb=void 0},456667:e=>{window.h.Cb(e)},456717:e=>{e=window.h.ra(e),e.J.resume(),e.state=window.h.ga.xb},456856:e=>{e=window.h.ra(e),e.J.suspend(),e.state=window.h.ga.stopped}},_=e=>{for(;0<e.length;)e.shift()(c)},T=(e,t)=>{for(var r=0,o=e.length-1;0<=o;o--){var s=e[o];s==="."?e.splice(o,1):s===".."?(e.splice(o,1),r++):r&&(e.splice(o,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},B=e=>{var t=e.charAt(0)==="/",r=e.substr(-1)==="/";return(e=T(e.split("/").filter(o=>!!o),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},I=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},K=e=>{if(e==="/")return"/";e=B(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},de=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);Se("initRandomDevice")},Ie=e=>(Ie=de())(e);function ae(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){if(t=0<=r?arguments[r]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=T(e.split("/").filter(o=>!!o),!t).join("/"),(t?"/":"")+e||"."}var ze=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ee=(e,t,r)=>{var o=t+r;for(r=t;e[r]&&!(r>=o);)++r;if(16<r-t&&e.buffer&&ze)return ze.decode(e.subarray(t,r));for(o="";t<r;){var s=e[t++];if(s&128){var u=e[t++]&63;if((s&224)==192)o+=String.fromCharCode((s&31)<<6|u);else{var f=e[t++]&63;s=(s&240)==224?(s&15)<<12|u<<6|f:(s&7)<<18|u<<12|f<<6|e[t++]&63,65536>s?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else o+=String.fromCharCode(s)}return o},Be=[],re=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);127>=o?t++:2047>=o?t+=2:55296<=o&&57343>=o?(t+=4,++r):t+=3}return t},wt=(e,t,r,o)=>{if(!(0<o))return 0;var s=r;o=r+o-1;for(var u=0;u<e.length;++u){var f=e.charCodeAt(u);if(55296<=f&&57343>=f){var m=e.charCodeAt(++u);f=65536+((f&1023)<<10)|m&1023}if(127>=f){if(r>=o)break;t[r++]=f}else{if(2047>=f){if(r+1>=o)break;t[r++]=192|f>>6}else{if(65535>=f){if(r+2>=o)break;t[r++]=224|f>>12}else{if(r+3>=o)break;t[r++]=240|f>>18,t[r++]=128|f>>12&63}t[r++]=128|f>>6&63}t[r++]=128|f&63}}return t[r]=0,r-s};function Ft(e,t){var r=Array(re(e)+1);return e=wt(e,r,0,r.length),t&&(r.length=e),r}var Ot=[];function It(e,t){Ot[e]={input:[],F:[],V:t},An(e,bt)}var bt={open:function(e){var t=Ot[e.node.za];if(!t)throw new P(43);e.s=t,e.seekable=!1},close:function(e){e.s.V.qa(e.s)},qa:function(e){e.s.V.qa(e.s)},read:function(e,t,r,o){if(!e.s||!e.s.V.ib)throw new P(60);for(var s=0,u=0;u<o;u++){try{var f=e.s.V.ib(e.s)}catch{throw new P(29)}if(f===void 0&&s===0)throw new P(6);if(f==null)break;s++,t[r+u]=f}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,r,o){if(!e.s||!e.s.V.Oa)throw new P(60);try{for(var s=0;s<o;s++)e.s.V.Oa(e.s,t[r+s])}catch{throw new P(29)}return o&&(e.node.timestamp=Date.now()),s}},jt={ib:function(){e:{if(!Be.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){e=null;break e}Be=Ft(e,!0)}e=Be.shift()}return e},Oa:function(e,t){t===null||t===10?(ke(Ee(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(ke(Ee(e.F,0)),e.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},pt={Oa:function(e,t){t===null||t===10?(ye(Ee(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(ye(Ee(e.F,0)),e.F=[])}};function Hn(e,t){var r=e.j?e.j.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),r!=0&&(t=Math.max(t,256)),r=e.j,e.j=new Uint8Array(t),0<e.v&&e.j.set(r.subarray(0,e.v),0))}var N={O:null,U(){return N.createNode(null,"/",16895,0)},createNode(e,t,r,o){if((r&61440)===24576||(r&61440)===4096)throw new P(63);return N.O||(N.O={dir:{node:{Y:N.l.Y,P:N.l.P,ka:N.l.ka,va:N.l.va,ub:N.l.ub,Ab:N.l.Ab,vb:N.l.vb,sb:N.l.sb,Ea:N.l.Ea},stream:{ba:N.m.ba}},file:{node:{Y:N.l.Y,P:N.l.P},stream:{ba:N.m.ba,read:N.m.read,write:N.m.write,pa:N.m.pa,lb:N.m.lb,nb:N.m.nb}},link:{node:{Y:N.l.Y,P:N.l.P,ma:N.l.ma},stream:{}},$a:{node:{Y:N.l.Y,P:N.l.P},stream:zr}}),r=qn(e,t,r,o),(r.mode&61440)===16384?(r.l=N.O.dir.node,r.m=N.O.dir.stream,r.j={}):(r.mode&61440)===32768?(r.l=N.O.file.node,r.m=N.O.file.stream,r.v=0,r.j=null):(r.mode&61440)===40960?(r.l=N.O.link.node,r.m=N.O.link.stream):(r.mode&61440)===8192&&(r.l=N.O.$a.node,r.m=N.O.$a.stream),r.timestamp=Date.now(),e&&(e.j[t]=r,e.timestamp=r.timestamp),r},Kc(e){return e.j?e.j.subarray?e.j.subarray(0,e.v):new Uint8Array(e.j):new Uint8Array(0)},l:{Y(e){var t={};return t.Jc=(e.mode&61440)===8192?e.id:1,t.Mc=e.id,t.mode=e.mode,t.Oc=1,t.uid=0,t.Lc=0,t.za=e.za,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.v:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.Bc=new Date(e.timestamp),t.Nc=new Date(e.timestamp),t.Ic=new Date(e.timestamp),t.Jb=4096,t.Cc=Math.ceil(t.size/t.Jb),t},P(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.v!=t))if(t==0)e.j=null,e.v=0;else{var r=e.j;e.j=new Uint8Array(t),r&&e.j.set(r.subarray(0,Math.min(t,e.v))),e.v=t}},ka(){throw Cn[44]},va(e,t,r,o){return N.createNode(e,t,r,o)},ub(e,t,r){if((e.mode&61440)===16384){try{var o=Kt(t,r)}catch{}if(o)for(var s in o.j)throw new P(55)}delete e.parent.j[e.name],e.parent.timestamp=Date.now(),e.name=r,t.j[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},Ab(e,t){delete e.j[t],e.timestamp=Date.now()},vb(e,t){var r=Kt(e,t),o;for(o in r.j)throw new P(55);delete e.j[t],e.timestamp=Date.now()},sb(e){var t=[".",".."],r;for(r in e.j)e.j.hasOwnProperty(r)&&t.push(r);return t},Ea(e,t,r){return e=N.createNode(e,t,41471,0),e.link=r,e},ma(e){if((e.mode&61440)!==40960)throw new P(28);return e.link}},m:{read(e,t,r,o,s){var u=e.node.j;if(s>=e.node.v)return 0;if(e=Math.min(e.node.v-s,o),8<e&&u.subarray)t.set(u.subarray(s,s+e),r);else for(o=0;o<e;o++)t[r+o]=u[s+o];return e},write(e,t,r,o,s,u){if(t.buffer===Me.buffer&&(u=!1),!o)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.j||e.j.subarray)){if(u)return e.j=t.subarray(r,r+o),e.v=o;if(e.v===0&&s===0)return e.j=t.slice(r,r+o),e.v=o;if(s+o<=e.v)return e.j.set(t.subarray(r,r+o),s),o}if(Hn(e,s+o),e.j.subarray&&t.subarray)e.j.set(t.subarray(r,r+o),s);else for(u=0;u<o;u++)e.j[s+u]=t[r+u];return e.v=Math.max(e.v,s+o),o},ba(e,t,r){if(r===1?t+=e.position:r===2&&(e.node.mode&61440)===32768&&(t+=e.node.v),0>t)throw new P(28);return t},pa(e,t,r){Hn(e.node,t+r),e.node.v=Math.max(e.node.v,t+r)},lb(e,t,r,o,s){if((e.node.mode&61440)!==32768)throw new P(43);if(e=e.node.j,s&2||e.buffer!==Me.buffer){if((0<r||r+t<e.length)&&(e.subarray?e=e.subarray(r,r+t):e=Array.prototype.slice.call(e,r,r+t)),r=!0,Se(),t=void 0,!t)throw new P(48);Me.set(e,t)}else r=!1,t=e.byteOffset;return{o:t,M:r}},nb(e,t,r,o){return N.m.write(e,t,0,o,r,!1),0}}};function $r(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r}var _n=null,Yn={},Qt=[],Hr=1,Bt=null,zn=!0,P=null,Cn={},_t=(e,t={})=>{if(e=ae(e),!e)return{path:"",node:null};if(t=Object.assign({gb:!0,Qa:0},t),8<t.Qa)throw new P(32);e=e.split("/").filter(f=>!!f);for(var r=_n,o="/",s=0;s<e.length;s++){var u=s===e.length-1;if(u&&t.parent)break;if(r=Kt(r,e[s]),o=B(o+"/"+e[s]),r.wa&&(!u||u&&t.gb)&&(r=r.wa.root),!u||t.fb){for(u=0;(r.mode&61440)===40960;)if(r=Xr(o),o=ae(I(o),r),r=_t(o,{Qa:t.Qa+1}).node,40<u++)throw new P(32)}}return{path:o,node:r}},Xn=e=>{for(var t;;){if(e===e.parent)return e=e.U.mb,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}},Gn=(e,t)=>{for(var r=0,o=0;o<t.length;o++)r=(r<<5)-r+t.charCodeAt(o)|0;return(e+r>>>0)%Bt.length},Kt=(e,t)=>{var r;if(r=(r=Zt(e,"x"))?r:e.l.ka?0:2)throw new P(r,e);for(r=Bt[Gn(e.id,t)];r;r=r.lc){var o=r.name;if(r.parent.id===e.id&&o===t)return r}return e.l.ka(e,t)},qn=(e,t,r,o)=>(e=new Cr(e,t,r,o),t=Gn(e.parent.id,e.name),e.lc=Bt[t],Bt[t]=e),Qn=e=>{var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},Zt=(e,t)=>{if(zn)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},Kn=(e,t)=>{try{return Kt(e,t),20}catch{}return Zt(e,"wx")},Yr=()=>{for(var e=0;4096>=e;e++)if(!Qt[e])return e;throw new P(33)},mt=e=>{if(e=Qt[e],!e)throw new P(8);return e},Zn=(e,t=-1)=>(kt||(kt=function(){this.h={}},kt.prototype={},Object.defineProperties(kt.prototype,{object:{get(){return this.node},set(r){this.node=r}},flags:{get(){return this.h.flags},set(r){this.h.flags=r}},position:{get(){return this.h.position},set(r){this.h.position=r}}})),e=Object.assign(new kt,e),t==-1&&(t=Yr()),e.X=t,Qt[t]=e),zr={open:e=>{e.m=Yn[e.node.za].m,e.m.open&&e.m.open(e)},ba:()=>{throw new P(70)}},An=(e,t)=>{Yn[e]={m:t}},Jn=(e,t)=>{var r=t==="/",o=!t;if(r&&_n)throw new P(10);if(!r&&!o){var s=_t(t,{gb:!1});if(t=s.path,s=s.node,s.wa)throw new P(10);if((s.mode&61440)!==16384)throw new P(54)}t={type:e,Qc:{},mb:t,kc:[]},e=e.U(t),e.U=t,t.root=e,r?_n=e:s&&(s.wa=t,s.U&&s.U.kc.push(t))},Xe=(e,t,r)=>{var o=_t(e,{parent:!0}).node;if(e=K(e),!e||e==="."||e==="..")throw new P(28);var s=Kn(o,e);if(s)throw new P(s);if(!o.l.va)throw new P(63);return o.l.va(o,e,t,r)},Jt=(e,t,r)=>{typeof r>"u"&&(r=t,t=438),Xe(e,t|8192,r)},Mn=(e,t)=>{if(!ae(e))throw new P(44);var r=_t(t,{parent:!0}).node;if(!r)throw new P(44);t=K(t);var o=Kn(r,t);if(o)throw new P(o);if(!r.l.Ea)throw new P(63);r.l.Ea(r,t,e)},Xr=e=>{if(e=_t(e).node,!e)throw new P(44);if(!e.l.ma)throw new P(28);return ae(Xn(e.parent),e.l.ma(e))},en=(e,t,r)=>{if(e==="")throw new P(44);if(typeof t=="string"){var o={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof o>"u")throw Error(`Unknown file open mode: ${t}`);t=o}if(r=t&64?(typeof r>"u"?438:r)&4095|32768:0,typeof e=="object")var s=e;else{e=B(e);try{s=_t(e,{fb:!(t&131072)}).node}catch{}}if(o=!1,t&64)if(s){if(t&128)throw new P(20)}else s=Xe(e,r,0),o=!0;if(!s)throw new P(44);if((s.mode&61440)===8192&&(t&=-513),t&65536&&(s.mode&61440)!==16384)throw new P(54);if(!o&&(r=s?(s.mode&61440)===40960?32:(s.mode&61440)===16384&&(Qn(t)!=="r"||t&512)?31:Zt(s,Qn(t)):44))throw new P(r);if(t&512&&!o){if(r=s,r=typeof r=="string"?_t(r,{fb:!0}).node:r,!r.l.P)throw new P(63);if((r.mode&61440)===16384)throw new P(31);if((r.mode&61440)!==32768)throw new P(28);if(o=Zt(r,"w"))throw new P(o);r.l.P(r,{size:0,timestamp:Date.now()})}return t&=-131713,s=Zn({node:s,path:Xn(s),flags:t,seekable:!0,position:0,m:s.m,zc:[],error:!1}),s.m.open&&s.m.open(s),!c.logReadFiles||t&1||(tn||(tn={}),e in tn||(tn[e]=1)),s},er=(e,t,r)=>{if(e.X===null)throw new P(8);if(!e.seekable||!e.m.ba)throw new P(70);if(r!=0&&r!=1&&r!=2)throw new P(28);e.position=e.m.ba(e,t,r),e.zc=[]},tr=()=>{P||(P=function(e,t){this.name="ErrnoError",this.node=t,this.pc=function(r){this.aa=r},this.pc(e),this.message="FS error"},P.prototype=Error(),P.prototype.constructor=P,[44].forEach(e=>{Cn[e]=new P(e),Cn[e].stack="<generic error, no stack>"}))},nr,Dt=(e,t,r)=>{e=B("/dev/"+e);var o=$r(!!t,!!r);En||(En=64);var s=En++<<8|0;An(s,{open:u=>{u.seekable=!1},close:()=>{r&&r.buffer&&r.buffer.length&&r(10)},read:(u,f,m,v)=>{for(var h=0,b=0;b<v;b++){try{var C=t()}catch{throw new P(29)}if(C===void 0&&h===0)throw new P(6);if(C==null)break;h++,f[m+b]=C}return h&&(u.node.timestamp=Date.now()),h},write:(u,f,m,v)=>{for(var h=0;h<v;h++)try{r(f[m+h])}catch{throw new P(29)}return v&&(u.node.timestamp=Date.now()),h}}),Jt(e,o,s)},En,Ct={},kt,tn,Vt=void 0;function st(){return Vt+=4,W[Vt-4>>2]}function rr(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e}function nn(e,t){return e=rr(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function ir(){this.M=[void 0],this.hb=[]}var Ne=new ir,Lt=void 0;function V(e){throw new Lt(e)}var Ge=e=>(e||V("Cannot use deleted val. handle = "+e),Ne.get(e).value),qe=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ne.pa({tb:1,value:e})}};function or(e){var t=Error,r=nn(e,function(o){this.name=e,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`
`+o.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r}var ar=void 0,sr=void 0;function ve(e){for(var t="";fe[e];)t+=sr[fe[e++]];return t}var Ut=[];function Rn(){for(;Ut.length;){var e=Ut.pop();e.g.fa=!1,e.delete()}}var Wt=void 0,ut={};function Pn(e,t){for(t===void 0&&V("ptr should not be undefined");e.A;)t=e.na(t),e=e.A;return t}var At={};function ur(e){e=Lr(e);var t=ve(e);return ft(e),t}function Nt(e,t){var r=At[e];return r===void 0&&V(t+" has unknown type "+ur(e)),r}function rn(){}var In=!1;function lr(e){--e.count.value,e.count.value===0&&(e.G?e.L.W(e.G):e.u.i.W(e.o))}function cr(e,t,r){return t===r?e:r.A===void 0?null:(e=cr(e,t,r.A),e===null?null:r.Pb(e))}var fr={};function Gr(e,t){return t=Pn(e,t),ut[t]}var dr=void 0;function on(e){throw new dr(e)}function an(e,t){return t.u&&t.o||on("makeClassHandle requires ptr and ptrType"),!!t.L!=!!t.G&&on("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Tt(Object.create(e,{g:{value:t}}))}function Tt(e){return typeof FinalizationRegistry>"u"?(Tt=t=>t,e):(In=new FinalizationRegistry(t=>{lr(t.g)}),Tt=t=>{var r=t.g;return r.G&&In.register(t,{g:r},t),t},rn=t=>{In.unregister(t)},Tt(e))}var sn={};function $t(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Ht(e){return this.fromWireType(W[e>>2])}var St={},un={};function We(e,t,r){function o(m){m=r(m),m.length!==e.length&&on("Mismatched type converter count");for(var v=0;v<e.length;++v)et(e[v],m[v])}e.forEach(function(m){un[m]=t});var s=Array(t.length),u=[],f=0;t.forEach((m,v)=>{At.hasOwnProperty(m)?s[v]=At[m]:(u.push(m),St.hasOwnProperty(m)||(St[m]=[]),St[m].push(()=>{s[v]=At[m],++f,f===u.length&&o(s)}))}),u.length===0&&o(s)}function ln(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function qr(e,t,r={}){var o=t.name;if(e||V(`type "${o}" must have a positive integer typeid pointer`),At.hasOwnProperty(e)){if(r.$b)return;V(`Cannot register type '${o}' twice`)}At[e]=t,delete un[e],St.hasOwnProperty(e)&&(t=St[e],delete St[e],t.forEach(s=>s()))}function et(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");qr(e,t,r)}function Ln(e){V(e.g.u.i.name+" instance already deleted")}function vt(){}function Tn(e,t,r){if(e[t].B===void 0){var o=e[t];e[t]=function(){return e[t].B.hasOwnProperty(arguments.length)||V(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].B})!`),e[t].B[arguments.length].apply(this,arguments)},e[t].B=[],e[t].B[o.ea]=o}}function Sn(e,t,r){c.hasOwnProperty(e)?((r===void 0||c[e].B!==void 0&&c[e].B[r]!==void 0)&&V(`Cannot register public name '${e}' twice`),Tn(c,e,e),c.hasOwnProperty(r)&&V(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),c[e].B[r]=t):(c[e]=t,r!==void 0&&(c[e].Pc=r))}function Qr(e,t,r,o,s,u,f,m){this.name=e,this.constructor=t,this.N=r,this.W=o,this.A=s,this.Ub=u,this.na=f,this.Pb=m,this.qb=[]}function cn(e,t,r){for(;t!==r;)t.na||V(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.na(e),t=t.A;return e}function Kr(e,t){return t===null?(this.Na&&V(`null is not a valid ${this.name}`),0):(t.g||V(`Cannot pass "${Fn(t)}" as a ${this.name}`),t.g.o||V(`Cannot pass deleted object as a pointer of type ${this.name}`),cn(t.g.o,t.g.u.i,this.i))}function Zr(e,t){if(t===null){if(this.Na&&V(`null is not a valid ${this.name}`),this.ua){var r=this.Pa();return e!==null&&e.push(this.W,r),r}return 0}if(t.g||V(`Cannot pass "${Fn(t)}" as a ${this.name}`),t.g.o||V(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&t.g.u.ta&&V(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`),r=cn(t.g.o,t.g.u.i,this.i),this.ua)switch(t.g.G===void 0&&V("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:t.g.L===this?r=t.g.G:V(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`);break;case 1:r=t.g.G;break;case 2:if(t.g.L===this)r=t.g.G;else{var o=t.clone();r=this.oc(r,qe(function(){o.delete()})),e!==null&&e.push(this.W,r)}break;default:V("Unsupporting sharing policy")}return r}function Jr(e,t){return t===null?(this.Na&&V(`null is not a valid ${this.name}`),0):(t.g||V(`Cannot pass "${Fn(t)}" as a ${this.name}`),t.g.o||V(`Cannot pass deleted object as a pointer of type ${this.name}`),t.g.u.ta&&V(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`),cn(t.g.o,t.g.u.i,this.i))}function lt(e,t,r,o){this.name=e,this.i=t,this.Na=r,this.ta=o,this.ua=!1,this.W=this.oc=this.Pa=this.rb=this.tc=this.nc=void 0,t.A!==void 0?this.toWireType=Zr:(this.toWireType=o?Kr:Jr,this.K=null)}function hr(e,t,r){c.hasOwnProperty(e)||on("Replacing nonexistant public symbol"),c[e].B!==void 0&&r!==void 0?c[e].B[r]=t:(c[e]=t,c[e].ea=r)}var fn=[],pr=e=>{var t=fn[e];return t||(e>=fn.length&&(fn.length=e+1),fn[e]=t=Ue.get(e)),t},ei=(e,t)=>{var r=[];return function(){if(r.length=0,Object.assign(r,arguments),e.includes("j")){var o=c["dynCall_"+e];o=r&&r.length?o.apply(null,[t].concat(r)):o.call(null,t)}else o=pr(t).apply(null,r);return o}};function xe(e,t){e=ve(e);var r=e.includes("j")?ei(e,t):pr(t);return typeof r!="function"&&V(`unknown function pointer with signature ${e}: ${t}`),r}var mr=void 0;function ct(e,t){function r(u){s[u]||At[u]||(un[u]?un[u].forEach(r):(o.push(u),s[u]=!0))}var o=[],s={};throw t.forEach(r),new mr(`${e}: `+o.map(ur).join([", "]))}function dn(e,t,r,o,s){var u=t.length;2>u&&V("argTypes array size mismatch! Must at least get return value and 'this' types!");var f=t[1]!==null&&r!==null,m=!1;for(r=1;r<t.length;++r)if(t[r]!==null&&t[r].K===void 0){m=!0;break}var v=t[0].name!=="void",h=u-2,b=Array(h),C=[],E=[];return function(){if(arguments.length!==h&&V(`function ${e} called with ${arguments.length} arguments, expected ${h} args!`),E.length=0,C.length=f?2:1,C[0]=s,f){var d=t[1].toWireType(E,this);C[1]=d}for(var w=0;w<h;++w)b[w]=t[w+2].toWireType(E,arguments[w]),C.push(b[w]);if(w=o.apply(null,C),m)$t(E);else for(var L=f?1:2;L<t.length;L++){var A=L===1?d:b[L-2];t[L].K!==null&&t[L].K(A)}return d=v?t[0].fromWireType(w):void 0,d}}function hn(e,t){for(var r=[],o=0;o<e;o++)r.push(te[t+4*o>>2]);return r}function vr(e,t,r){return e instanceof Object||V(`${r} with invalid "this": ${e}`),e instanceof t.i.constructor||V(`${r} incompatible with "this" of type ${e.constructor.name}`),e.g.o||V(`cannot call emscripten binding method ${r} on deleted object`),cn(e.g.o,e.g.u.i,t.i)}function xn(e){e>=Ne.h&&--Ne.get(e).tb===0&&Ne.Zb(e)}function ti(e,t,r){switch(t){case 0:return function(o){return this.fromWireType((r?Me:fe)[o])};case 1:return function(o){return this.fromWireType((r?Pe:Ze)[o>>1])};case 2:return function(o){return this.fromWireType((r?W:te)[o>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Fn(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function ni(e,t){switch(t){case 2:return function(r){return this.fromWireType(me[r>>2])};case 3:return function(r){return this.fromWireType(Oe[r>>3])};default:throw new TypeError("Unknown float type: "+e)}}function ri(e,t,r){switch(t){case 0:return r?function(o){return Me[o]}:function(o){return fe[o]};case 1:return r?function(o){return Pe[o>>1]}:function(o){return Ze[o>>1]};case 2:return r?function(o){return W[o>>2]}:function(o){return te[o>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var gr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ii=(e,t)=>{for(var r=e>>1,o=r+t/2;!(r>=o)&&Ze[r];)++r;if(r<<=1,32<r-e&&gr)return gr.decode(fe.subarray(e,r));for(r="",o=0;!(o>=t/2);++o){var s=Pe[e+2*o>>1];if(s==0)break;r+=String.fromCharCode(s)}return r},oi=(e,t,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var o=t;r=r<2*e.length?r/2:e.length;for(var s=0;s<r;++s)Pe[t>>1]=e.charCodeAt(s),t+=2;return Pe[t>>1]=0,t-o},ai=e=>2*e.length,si=(e,t)=>{for(var r=0,o="";!(r>=t/4);){var s=W[e+4*r>>2];if(s==0)break;++r,65536<=s?(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023)):o+=String.fromCharCode(s)}return o},ui=(e,t,r)=>{if(r===void 0&&(r=2147483647),4>r)return 0;var o=t;r=o+r-4;for(var s=0;s<e.length;++s){var u=e.charCodeAt(s);if(55296<=u&&57343>=u){var f=e.charCodeAt(++s);u=65536+((u&1023)<<10)|f&1023}if(W[t>>2]=u,t+=4,t+4>r)break}return W[t>>2]=0,t-o},li=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);55296<=o&&57343>=o&&++r,t+=4}return t},ci={};function pn(e){var t=ci[e];return t===void 0?ve(e):t}var mn=[];function fi(e){var t=mn.length;return mn.push(e),t}function di(e,t){for(var r=Array(e),o=0;o<e;++o)r[o]=Nt(te[t+4*o>>2],"parameter "+o);return r}var yr=[],On=[],jn={},wr=()=>{if(!Bn){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Qe||"./this.program"},t;for(t in jn)jn[t]===void 0?delete e[t]:e[t]=jn[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);Bn=r}return Bn},Bn,vn=e=>e%4===0&&(e%100!==0||e%400===0),br=[31,29,31,30,31,30,31,31,30,31,30,31],_r=[31,28,31,30,31,30,31,31,30,31,30,31],hi=(e,t,r,o)=>{function s(d,w,L){for(d=typeof d=="number"?d.toString():d||"";d.length<w;)d=L[0]+d;return d}function u(d,w){return s(d,w,"0")}function f(d,w){function L(ee){return 0>ee?-1:0<ee?1:0}var A;return(A=L(d.getFullYear()-w.getFullYear()))===0&&(A=L(d.getMonth()-w.getMonth()))===0&&(A=L(d.getDate()-w.getDate())),A}function m(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function v(d){var w=d.ca;for(d=new Date(new Date(d.da+1900,0,1).getTime());0<w;){var L=d.getMonth(),A=(vn(d.getFullYear())?br:_r)[L];if(w>A-d.getDate())w-=A-d.getDate()+1,d.setDate(1),11>L?d.setMonth(L+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else{d.setDate(d.getDate()+w);break}}return L=new Date(d.getFullYear()+1,0,4),w=m(new Date(d.getFullYear(),0,4)),L=m(L),0>=f(w,d)?0>=f(L,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}var h=W[o+40>>2];o={wc:W[o>>2],vc:W[o+4>>2],Fa:W[o+8>>2],Sa:W[o+12>>2],Ga:W[o+16>>2],da:W[o+20>>2],R:W[o+24>>2],ca:W[o+28>>2],Rc:W[o+32>>2],uc:W[o+36>>2],xc:h&&h?Ee(fe,h):""},r=r?Ee(fe,r):"",h={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var b in h)r=r.replace(new RegExp(b,"g"),h[b]);var C="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),E="January February March April May June July August September October November December".split(" ");h={"%a":d=>C[d.R].substring(0,3),"%A":d=>C[d.R],"%b":d=>E[d.Ga].substring(0,3),"%B":d=>E[d.Ga],"%C":d=>u((d.da+1900)/100|0,2),"%d":d=>u(d.Sa,2),"%e":d=>s(d.Sa,2," "),"%g":d=>v(d).toString().substring(2),"%G":d=>v(d),"%H":d=>u(d.Fa,2),"%I":d=>(d=d.Fa,d==0?d=12:12<d&&(d-=12),u(d,2)),"%j":d=>{for(var w=0,L=0;L<=d.Ga-1;w+=(vn(d.da+1900)?br:_r)[L++]);return u(d.Sa+w,3)},"%m":d=>u(d.Ga+1,2),"%M":d=>u(d.vc,2),"%n":()=>`
`,"%p":d=>0<=d.Fa&&12>d.Fa?"AM":"PM","%S":d=>u(d.wc,2),"%t":()=>"	","%u":d=>d.R||7,"%U":d=>u(Math.floor((d.ca+7-d.R)/7),2),"%V":d=>{var w=Math.floor((d.ca+7-(d.R+6)%7)/7);if(2>=(d.R+371-d.ca-2)%7&&w++,w)w==53&&(L=(d.R+371-d.ca)%7,L==4||L==3&&vn(d.da)||(w=1));else{w=52;var L=(d.R+7-d.ca-1)%7;(L==4||L==5&&vn(d.da%400-1))&&w++}return u(w,2)},"%w":d=>d.R,"%W":d=>u(Math.floor((d.ca+7-(d.R+6)%7)/7),2),"%y":d=>(d.da+1900).toString().substring(2),"%Y":d=>d.da+1900,"%z":d=>{d=d.uc;var w=0<=d;return d=Math.abs(d)/60,(w?"+":"-")+("0000"+(d/60*100+d%60)).slice(-4)},"%Z":d=>d.xc,"%%":()=>"%"},r=r.replace(/%%/g,"\0\0");for(b in h)r.includes(b)&&(r=r.replace(new RegExp(b,"g"),h[b](o)));return r=r.replace(/\0\0/g,"%"),b=Ft(r,!1),b.length>t?0:(Me.set(b,e),b.length-1)};function Cr(e,t,r,o){e||(e=this),this.parent=e,this.U=e.U,this.wa=null,this.id=Hr++,this.name=t,this.mode=r,this.l={},this.m={},this.za=o}Object.defineProperties(Cr.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),tr(),Bt=Array(4096),Jn(N,"/"),Xe("/tmp",16895,0),Xe("/home",16895,0),Xe("/home/web_user",16895,0),(()=>{Xe("/dev",16895,0),An(259,{read:()=>0,write:(o,s,u,f)=>f}),Jt("/dev/null",259),It(1280,jt),It(1536,pt),Jt("/dev/tty",1280),Jt("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(t=Ie(e).byteLength),e[--t]);Dt("random",r),Dt("urandom",r),Xe("/dev/shm",16895,0),Xe("/dev/shm/tmp",16895,0)})(),(()=>{Xe("/proc",16895,0);var e=Xe("/proc/self",16895,0);Xe("/proc/self/fd",16895,0),Jn({U:()=>{var t=qn(e,"fd",16895,73);return t.l={ka:(r,o)=>{var s=mt(+o);return r={parent:null,U:{mb:"fake"},l:{ma:()=>s.path}},r.parent=r}},t}},"/proc/self/fd")})(),Object.assign(ir.prototype,{get(e){return this.M[e]},has(e){return this.M[e]!==void 0},pa(e){var t=this.hb.pop()||this.M.length;return this.M[t]=e,t},Zb(e){this.M[e]=void 0,this.hb.push(e)}}),Lt=c.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Ne.M.push({value:void 0},{value:null},{value:!0},{value:!1}),Ne.h=Ne.M.length,c.count_emval_handles=function(){for(var e=0,t=Ne.h;t<Ne.M.length;++t)Ne.M[t]!==void 0&&++e;return e},ar=c.PureVirtualError=or("PureVirtualError");for(var Ar=Array(256),gn=0;256>gn;++gn)Ar[gn]=String.fromCharCode(gn);sr=Ar,c.getInheritedInstanceCount=function(){return Object.keys(ut).length},c.getLiveInheritedInstances=function(){var e=[],t;for(t in ut)ut.hasOwnProperty(t)&&e.push(ut[t]);return e},c.flushPendingDeletes=Rn,c.setDelayFunction=function(e){Wt=e,Ut.length&&Wt&&Wt(Rn)},dr=c.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},vt.prototype.isAliasOf=function(e){if(!(this instanceof vt&&e instanceof vt))return!1;var t=this.g.u.i,r=this.g.o,o=e.g.u.i;for(e=e.g.o;t.A;)r=t.na(r),t=t.A;for(;o.A;)e=o.na(e),o=o.A;return t===o&&r===e},vt.prototype.clone=function(){if(this.g.o||Ln(this),this.g.ia)return this.g.count.value+=1,this;var e=Tt,t=Object,r=t.create,o=Object.getPrototypeOf(this),s=this.g;return e=e(r.call(t,o,{g:{value:{count:s.count,fa:s.fa,ia:s.ia,o:s.o,u:s.u,G:s.G,L:s.L}}})),e.g.count.value+=1,e.g.fa=!1,e},vt.prototype.delete=function(){this.g.o||Ln(this),this.g.fa&&!this.g.ia&&V("Object already scheduled for deletion"),rn(this),lr(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},vt.prototype.isDeleted=function(){return!this.g.o},vt.prototype.deleteLater=function(){return this.g.o||Ln(this),this.g.fa&&!this.g.ia&&V("Object already scheduled for deletion"),Ut.push(this),Ut.length===1&&Wt&&Wt(Rn),this.g.fa=!0,this},lt.prototype.Vb=function(e){return this.rb&&(e=this.rb(e)),e},lt.prototype.ab=function(e){this.W&&this.W(e)},lt.prototype.argPackAdvance=8,lt.prototype.readValueFromPointer=Ht,lt.prototype.deleteObject=function(e){e!==null&&e.delete()},lt.prototype.fromWireType=function(e){function t(){return this.ua?an(this.i.N,{u:this.nc,o:r,L:this,G:e}):an(this.i.N,{u:this,o:e})}var r=this.Vb(e);if(!r)return this.ab(e),null;var o=Gr(this.i,r);if(o!==void 0)return o.g.count.value===0?(o.g.o=r,o.g.G=e,o.clone()):(o=o.clone(),this.ab(e),o);if(o=this.i.Ub(r),o=fr[o],!o)return t.call(this);o=this.ta?o.Kb:o.pointerType;var s=cr(r,this.i,o.i);return s===null?t.call(this):this.ua?an(o.i.N,{u:o,o:s,L:this,G:e}):an(o.i.N,{u:o,o:s})},mr=c.UnboundTypeError=or("UnboundTypeError");var Mr={__syscall_fcntl64:function(e,t,r){Vt=r;try{var o=mt(e);switch(t){case 0:var s=st();return 0>s?-28:Zn(o,s).X;case 1:case 2:return 0;case 3:return o.flags;case 4:return s=st(),o.flags|=s,0;case 5:return s=st(),Pe[s+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return W[Ir()>>2]=28,-1;default:return-28}}catch(u){if(typeof Ct>"u"||u.name!=="ErrnoError")throw u;return-u.aa}},__syscall_ioctl:function(e,t,r){Vt=r;try{var o=mt(e);switch(t){case 21509:return o.s?0:-59;case 21505:if(!o.s)return-59;if(o.s.V.bc){t=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var s=st();W[s>>2]=25856,W[s+4>>2]=5,W[s+8>>2]=191,W[s+12>>2]=35387;for(var u=0;32>u;u++)Me[s+u+17>>0]=t[u]||0}return 0;case 21510:case 21511:case 21512:return o.s?0:-59;case 21506:case 21507:case 21508:if(!o.s)return-59;if(o.s.V.cc)for(s=st(),t=[],u=0;32>u;u++)t.push(Me[s+u+17>>0]);return 0;case 21519:return o.s?(s=st(),W[s>>2]=0):-59;case 21520:return o.s?-28:-59;case 21531:if(s=st(),!o.m.ac)throw new P(59);return o.m.ac(o,t,s);case 21523:return o.s?(o.s.V.dc&&(u=[24,80],s=st(),Pe[s>>1]=u[0],Pe[s+2>>1]=u[1]),0):-59;case 21524:return o.s?0:-59;case 21515:return o.s?0:-59;default:return-28}}catch(f){if(typeof Ct>"u"||f.name!=="ErrnoError")throw f;return-f.aa}},__syscall_openat:function(e,t,r,o){Vt=o;try{t=t?Ee(fe,t):"";var s=t;if(s.charAt(0)==="/")t=s;else{var u=e===-100?"/":mt(e).path;if(s.length==0)throw new P(44);t=B(u+"/"+s)}var f=o?st():0;return en(t,r,f).X}catch(m){if(typeof Ct>"u"||m.name!=="ErrnoError")throw m;return-m.aa}},_embind_create_inheriting_constructor:function(e,t,r){e=ve(e),t=Nt(t,"wrapper"),r=Ge(r);var o=[].slice,s=t.i,u=s.N,f=s.A.N,m=s.A.constructor;e=nn(e,function(){s.A.qb.forEach((function(h){if(this[h]===f[h])throw new ar(`Pure virtual function ${h} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:u}),this.__construct.apply(this,o.call(arguments))}),u.__construct=function(){this===u&&V("Pass correct 'this' to __construct");var h=m.implement.apply(void 0,[this].concat(o.call(arguments)));rn(h);var b=h.g;h.notifyOnDestruction(),b.ia=!0,Object.defineProperties(this,{g:{value:b}}),Tt(this),h=b.o,h=Pn(s,h),ut.hasOwnProperty(h)?V(`Tried to register registered instance: ${h}`):ut[h]=this},u.__destruct=function(){this===u&&V("Pass correct 'this' to __destruct"),rn(this);var h=this.g.o;h=Pn(s,h),ut.hasOwnProperty(h)?delete ut[h]:V(`Tried to unregister unregistered instance: ${h}`)},e.prototype=Object.create(u);for(var v in r)e.prototype[v]=r[v];return qe(e)},_embind_finalize_value_object:function(e){var t=sn[e];delete sn[e];var r=t.Pa,o=t.W,s=t.eb,u=s.map(f=>f.Yb).concat(s.map(f=>f.rc));We([e],u,f=>{var m={};return s.forEach((v,h)=>{var b=f[h],C=v.Wb,E=v.Xb,d=f[h+s.length],w=v.qc,L=v.sc;m[v.Sb]={read:A=>b.fromWireType(C(E,A)),write:(A,ee)=>{var M=[];w(L,A,d.toWireType(M,ee)),$t(M)}}}),[{name:t.name,fromWireType:function(v){var h={},b;for(b in m)h[b]=m[b].read(v);return o(v),h},toWireType:function(v,h){for(var b in m)if(!(b in h))throw new TypeError(`Missing field: "${b}"`);var C=r();for(b in m)m[b].write(C,h[b]);return v!==null&&v.push(o,C),C},argPackAdvance:8,readValueFromPointer:Ht,K:o}]})},_embind_register_bigint:function(){},_embind_register_bool:function(e,t,r,o,s){var u=ln(r);t=ve(t),et(e,{name:t,fromWireType:function(f){return!!f},toWireType:function(f,m){return m?o:s},argPackAdvance:8,readValueFromPointer:function(f){if(r===1)var m=Me;else if(r===2)m=Pe;else if(r===4)m=W;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(m[f>>u])},K:null})},_embind_register_class:function(e,t,r,o,s,u,f,m,v,h,b,C,E){b=ve(b),u=xe(s,u),m&&(m=xe(f,m)),h&&(h=xe(v,h)),E=xe(C,E);var d=rr(b);Sn(d,function(){ct(`Cannot construct ${b} due to unbound types`,[o])}),We([e,t,r],o?[o]:[],function(w){if(w=w[0],o)var L=w.i,A=L.N;else A=vt.prototype;w=nn(d,function(){if(Object.getPrototypeOf(this)!==ee)throw new Lt("Use 'new' to construct "+b);if(M.$===void 0)throw new Lt(b+" has no accessible constructor");var se=M.$[arguments.length];if(se===void 0)throw new Lt(`Tried to invoke ctor of ${b} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(M.$).toString()}) parameters instead!`);return se.apply(this,arguments)});var ee=Object.create(A,{constructor:{value:w}});w.prototype=ee;var M=new Qr(b,w,ee,E,L,u,m,h);M.A&&(M.A.oa===void 0&&(M.A.oa=[]),M.A.oa.push(M)),L=new lt(b,M,!0,!1),A=new lt(b+"*",M,!1,!1);var Z=new lt(b+" const*",M,!1,!0);return fr[e]={pointerType:A,Kb:Z},hr(d,w),[L,A,Z]})},_embind_register_class_class_function:function(e,t,r,o,s,u,f){var m=hn(r,o);t=ve(t),u=xe(s,u),We([],[e],function(v){function h(){ct(`Cannot call ${b} due to unbound types`,m)}v=v[0];var b=`${v.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var C=v.i.constructor;return C[t]===void 0?(h.ea=r-1,C[t]=h):(Tn(C,t,b),C[t].B[r-1]=h),We([],m,function(E){if(E=dn(b,[E[0],null].concat(E.slice(1)),null,u,f),C[t].B===void 0?(E.ea=r-1,C[t]=E):C[t].B[r-1]=E,v.i.oa)for(const d of v.i.oa)d.constructor.hasOwnProperty(t)||(d.constructor[t]=E);return[]}),[]})},_embind_register_class_class_property:function(e,t,r,o,s,u,f,m){t=ve(t),u=xe(s,u),We([],[e],function(v){v=v[0];var h=`${v.name}.${t}`,b={get(){ct(`Cannot access ${h} due to unbound types`,[r])},enumerable:!0,configurable:!0};return b.set=m?()=>{ct(`Cannot access ${h} due to unbound types`,[r])}:()=>{V(`${h} is a read-only property`)},Object.defineProperty(v.i.constructor,t,b),We([],[r],function(C){C=C[0];var E={get(){return C.fromWireType(u(o))},enumerable:!0};return m&&(m=xe(f,m),E.set=d=>{var w=[];m(o,C.toWireType(w,d)),$t(w)}),Object.defineProperty(v.i.constructor,t,E),[]}),[]})},_embind_register_class_constructor:function(e,t,r,o,s,u){var f=hn(t,r);s=xe(o,s),We([],[e],function(m){m=m[0];var v=`constructor ${m.name}`;if(m.i.$===void 0&&(m.i.$=[]),m.i.$[t-1]!==void 0)throw new Lt(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${m.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return m.i.$[t-1]=()=>{ct(`Cannot construct ${m.name} due to unbound types`,f)},We([],f,function(h){return h.splice(1,0,null),m.i.$[t-1]=dn(v,h,null,s,u),[]}),[]})},_embind_register_class_function:function(e,t,r,o,s,u,f,m){var v=hn(r,o);t=ve(t),u=xe(s,u),We([],[e],function(h){function b(){ct(`Cannot call ${C} due to unbound types`,v)}h=h[0];var C=`${h.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),m&&h.i.qb.push(t);var E=h.i.N,d=E[t];return d===void 0||d.B===void 0&&d.className!==h.name&&d.ea===r-2?(b.ea=r-2,b.className=h.name,E[t]=b):(Tn(E,t,C),E[t].B[r-2]=b),We([],v,function(w){return w=dn(C,w,h,u,f),E[t].B===void 0?(w.ea=r-2,E[t]=w):E[t].B[r-2]=w,[]}),[]})},_embind_register_class_property:function(e,t,r,o,s,u,f,m,v,h){t=ve(t),s=xe(o,s),We([],[e],function(b){b=b[0];var C=`${b.name}.${t}`,E={get(){ct(`Cannot access ${C} due to unbound types`,[r,f])},enumerable:!0,configurable:!0};return E.set=v?()=>{ct(`Cannot access ${C} due to unbound types`,[r,f])}:()=>{V(C+" is a read-only property")},Object.defineProperty(b.i.N,t,E),We([],v?[r,f]:[r],function(d){var w=d[0],L={get(){var ee=vr(this,b,C+" getter");return w.fromWireType(s(u,ee))},enumerable:!0};if(v){v=xe(m,v);var A=d[1];L.set=function(ee){var M=vr(this,b,C+" setter"),Z=[];v(h,M,A.toWireType(Z,ee)),$t(Z)}}return Object.defineProperty(b.i.N,t,L),[]}),[]})},_embind_register_emval:function(e,t){t=ve(t),et(e,{name:t,fromWireType:function(r){var o=Ge(r);return xn(r),o},toWireType:function(r,o){return qe(o)},argPackAdvance:8,readValueFromPointer:Ht,K:null})},_embind_register_enum:function(e,t,r,o){function s(){}r=ln(r),t=ve(t),s.values={},et(e,{name:t,constructor:s,fromWireType:function(u){return this.constructor.values[u]},toWireType:function(u,f){return f.value},argPackAdvance:8,readValueFromPointer:ti(t,r,o),K:null}),Sn(t,s)},_embind_register_enum_value:function(e,t,r){var o=Nt(e,"enum");t=ve(t),e=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:r},constructor:{value:nn(`${o.name}_${t}`,function(){})}}),e.values[r]=o,e[t]=o},_embind_register_float:function(e,t,r){r=ln(r),t=ve(t),et(e,{name:t,fromWireType:function(o){return o},toWireType:function(o,s){return s},argPackAdvance:8,readValueFromPointer:ni(t,r),K:null})},_embind_register_function:function(e,t,r,o,s,u){var f=hn(t,r);e=ve(e),s=xe(o,s),Sn(e,function(){ct(`Cannot call ${e} due to unbound types`,f)},t-1),We([],f,function(m){return hr(e,dn(e,[m[0],null].concat(m.slice(1)),null,s,u),t-1),[]})},_embind_register_integer:function(e,t,r,o,s){t=ve(t),s===-1&&(s=4294967295),s=ln(r);var u=m=>m;if(o===0){var f=32-8*r;u=m=>m<<f>>>f}r=t.includes("unsigned")?function(m,v){return v>>>0}:function(m,v){return v},et(e,{name:t,fromWireType:u,toWireType:r,argPackAdvance:8,readValueFromPointer:ri(t,s,o!==0),K:null})},_embind_register_memory_view:function(e,t,r){function o(u){u>>=2;var f=te;return new s(f.buffer,f[u+1],f[u])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=ve(r),et(e,{name:r,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{$b:!0})},_embind_register_std_string:function(e,t){t=ve(t);var r=t==="std::string";et(e,{name:t,fromWireType:function(o){var s=te[o>>2],u=o+4;if(r)for(var f=u,m=0;m<=s;++m){var v=u+m;if(m==s||fe[v]==0){if(f=f?Ee(fe,f,v-f):"",h===void 0)var h=f;else h+="\0",h+=f;f=v+1}}else{for(h=Array(s),m=0;m<s;++m)h[m]=String.fromCharCode(fe[u+m]);h=h.join("")}return ft(o),h},toWireType:function(o,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var u=typeof s=="string";u||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||V("Cannot pass non-string to std::string");var f=r&&u?re(s):s.length,m=Dn(4+f+1),v=m+4;if(te[m>>2]=f,r&&u)wt(s,fe,v,f+1);else if(u)for(u=0;u<f;++u){var h=s.charCodeAt(u);255<h&&(ft(v),V("String has UTF-16 code units that do not fit in 8 bits")),fe[v+u]=h}else for(u=0;u<f;++u)fe[v+u]=s[u];return o!==null&&o.push(ft,m),m},argPackAdvance:8,readValueFromPointer:Ht,K:function(o){ft(o)}})},_embind_register_std_wstring:function(e,t,r){if(r=ve(r),t===2)var o=ii,s=oi,u=ai,f=()=>Ze,m=1;else t===4&&(o=si,s=ui,u=li,f=()=>te,m=2);et(e,{name:r,fromWireType:function(v){for(var h=te[v>>2],b=f(),C,E=v+4,d=0;d<=h;++d){var w=v+4+d*t;(d==h||b[w>>m]==0)&&(E=o(E,w-E),C===void 0?C=E:(C+="\0",C+=E),E=w+t)}return ft(v),C},toWireType:function(v,h){typeof h!="string"&&V(`Cannot pass non-string to C++ string type ${r}`);var b=u(h),C=Dn(4+b+t);return te[C>>2]=b>>m,s(h,C+4,b+t),v!==null&&v.push(ft,C),C},argPackAdvance:8,readValueFromPointer:Ht,K:function(v){ft(v)}})},_embind_register_value_object:function(e,t,r,o,s,u){sn[e]={name:ve(t),Pa:xe(r,o),W:xe(s,u),eb:[]}},_embind_register_value_object_field:function(e,t,r,o,s,u,f,m,v,h){sn[e].eb.push({Sb:ve(t),Yb:r,Wb:xe(o,s),Xb:u,rc:f,qc:xe(m,v),sc:h})},_embind_register_void:function(e,t){t=ve(t),et(e,{fc:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(e,t,r){e=Ge(e),t=Nt(t,"emval::as");var o=[],s=qe(o);return te[r>>2]=s,t.toWireType(o,e)},_emval_call_method:function(e,t,r,o,s){e=mn[e],t=Ge(t),r=pn(r);var u=[];return te[o>>2]=qe(u),e(t,r,u,s)},_emval_call_void_method:function(e,t,r,o){e=mn[e],t=Ge(t),r=pn(r),e(t,r,null,o)},_emval_decref:xn,_emval_get_method_caller:function(e,t){var r=di(e,t),o=r[0];t=o.name+"_$"+r.slice(1).map(function(f){return f.name}).join("_")+"$";var s=yr[t];if(s!==void 0)return s;var u=Array(e-1);return s=fi((f,m,v,h)=>{for(var b=0,C=0;C<e-1;++C)u[C]=r[C+1].readValueFromPointer(h+b),b+=r[C+1].argPackAdvance;for(f=f[m].apply(f,u),C=0;C<e-1;++C)r[C+1].Nb&&r[C+1].Nb(u[C]);if(!o.fc)return o.toWireType(v,f)}),yr[t]=s},_emval_get_module_property:function(e){return e=pn(e),qe(c[e])},_emval_get_property:function(e,t){return e=Ge(e),t=Ge(t),qe(e[t])},_emval_incref:function(e){4<e&&(Ne.get(e).tb+=1)},_emval_new_array:function(){return qe([])},_emval_new_cstring:function(e){return qe(pn(e))},_emval_new_object:function(){return qe({})},_emval_run_destructors:function(e){var t=Ge(e);$t(t),xn(e)},_emval_set_property:function(e,t,r){e=Ge(e),t=Ge(t),r=Ge(r),e[t]=r},_emval_take_value:function(e,t){return e=Nt(e,"_emval_take_value"),e=e.readValueFromPointer(t),qe(e)},abort:()=>{Se("")},emscripten_asm_const_int:(e,t,r)=>{On.length=0;var o;for(r>>=2;o=fe[t++];)r+=o!=105&r,On.push(o==105?W[r]:Oe[r++>>1]),++r;return g[e].apply(null,On)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(e,t,r)=>fe.copyWithin(e,t,t+r),emscripten_resize_heap:e=>{var t=fe.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var s=Math;o=Math.max(e,o);e:{s=s.min.call(s,2147483648,o+(65536-o%65536)%65536)-Fe.buffer.byteLength+65535>>>16;try{Fe.grow(s),Ve();var u=1;break e}catch{}u=void 0}if(u)return!0}return!1},environ_get:(e,t)=>{var r=0;return wr().forEach(function(o,s){var u=t+r;for(s=te[e+4*s>>2]=u,u=0;u<o.length;++u)Me[s++>>0]=o.charCodeAt(u);Me[s>>0]=0,r+=o.length+1}),0},environ_sizes_get:(e,t)=>{var r=wr();te[e>>2]=r.length;var o=0;return r.forEach(function(s){o+=s.length+1}),te[t>>2]=o,0},fd_close:function(e){try{var t=mt(e);if(t.X===null)throw new P(8);t.Ma&&(t.Ma=null);try{t.m.close&&t.m.close(t)}catch(r){throw r}finally{Qt[t.X]=null}return t.X=null,0}catch(r){if(typeof Ct>"u"||r.name!=="ErrnoError")throw r;return r.aa}},fd_read:function(e,t,r,o){try{e:{var s=mt(e);e=t;for(var u,f=t=0;f<r;f++){var m=te[e>>2],v=te[e+4>>2];e+=8;var h=s,b=m,C=v,E=u,d=Me;if(0>C||0>E)throw new P(28);if(h.X===null)throw new P(8);if((h.flags&2097155)===1)throw new P(8);if((h.node.mode&61440)===16384)throw new P(31);if(!h.m.read)throw new P(28);var w=typeof E<"u";if(!w)E=h.position;else if(!h.seekable)throw new P(70);var L=h.m.read(h,d,b,C,E);w||(h.position+=L);var A=L;if(0>A){var ee=-1;break e}if(t+=A,A<v)break;typeof u<"u"&&(u+=A)}ee=t}return te[o>>2]=ee,0}catch(M){if(typeof Ct>"u"||M.name!=="ErrnoError")throw M;return M.aa}},fd_seek:function(e,t,r,o,s){t=r+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*r:NaN;try{if(isNaN(t))return 61;var u=mt(e);return er(u,t,o),p=[u.position>>>0,(l=u.position,1<=+Math.abs(l)?0<l?+Math.floor(l/4294967296)>>>0:~~+Math.ceil((l-+(~~l>>>0))/4294967296)>>>0:0)],W[s>>2]=p[0],W[s+4>>2]=p[1],u.Ma&&t===0&&o===0&&(u.Ma=null),0}catch(f){if(typeof Ct>"u"||f.name!=="ErrnoError")throw f;return f.aa}},fd_write:function(e,t,r,o){try{e:{var s=mt(e);e=t;for(var u,f=t=0;f<r;f++){var m=te[e>>2],v=te[e+4>>2];e+=8;var h=s,b=m,C=v,E=u,d=Me;if(0>C||0>E)throw new P(28);if(h.X===null)throw new P(8);if((h.flags&2097155)===0)throw new P(8);if((h.node.mode&61440)===16384)throw new P(31);if(!h.m.write)throw new P(28);h.seekable&&h.flags&1024&&er(h,0,2);var w=typeof E<"u";if(!w)E=h.position;else if(!h.seekable)throw new P(70);var L=h.m.write(h,d,b,C,E,void 0);w||(h.position+=L);var A=L;if(0>A){var ee=-1;break e}t+=A,typeof u<"u"&&(u+=A)}ee=t}return te[o>>2]=ee,0}catch(M){if(typeof Ct>"u"||M.name!=="ErrnoError")throw M;return M.aa}},strftime_l:(e,t,r,o)=>hi(e,t,r,o)};(function(){function e(r){if(ie=r=r.exports,Fe=ie.memory,Ve(),Ue=ie.__indirect_function_table,dt.unshift(ie.__wasm_call_ctors),je--,c.monitorRunDependencies&&c.monitorRunDependencies(je),je==0&&Je){var o=Je;Je=null,o()}return r}var t={env:Mr,wasi_snapshot_preview1:Mr};if(je++,c.monitorRunDependencies&&c.monitorRunDependencies(je),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(r){ye("Module.instantiateWasm callback failed with error: "+r),_e(r)}return i(t,function(r){e(r.instance)}).catch(_e),{}})();var ft=e=>(ft=ie.free)(e),Dn=e=>(Dn=ie.malloc)(e),Er=c._ma_device__on_notification_unlocked=e=>(Er=c._ma_device__on_notification_unlocked=ie.ma_device__on_notification_unlocked)(e);c._ma_malloc_emscripten=(e,t)=>(c._ma_malloc_emscripten=ie.ma_malloc_emscripten)(e,t),c._ma_free_emscripten=(e,t)=>(c._ma_free_emscripten=ie.ma_free_emscripten)(e,t);var Rr=c._ma_device_process_pcm_frames_capture__webaudio=(e,t,r)=>(Rr=c._ma_device_process_pcm_frames_capture__webaudio=ie.ma_device_process_pcm_frames_capture__webaudio)(e,t,r),Pr=c._ma_device_process_pcm_frames_playback__webaudio=(e,t,r)=>(Pr=c._ma_device_process_pcm_frames_playback__webaudio=ie.ma_device_process_pcm_frames_playback__webaudio)(e,t,r),Ir=()=>(Ir=ie.__errno_location)(),Lr=e=>(Lr=ie.__getTypeName)(e);c.__embind_initialize_bindings=()=>(c.__embind_initialize_bindings=ie._embind_initialize_bindings)(),c.dynCall_iiji=(e,t,r,o,s)=>(c.dynCall_iiji=ie.dynCall_iiji)(e,t,r,o,s),c.dynCall_jiji=(e,t,r,o,s)=>(c.dynCall_jiji=ie.dynCall_jiji)(e,t,r,o,s),c.dynCall_iiiji=(e,t,r,o,s,u)=>(c.dynCall_iiiji=ie.dynCall_iiiji)(e,t,r,o,s,u),c.dynCall_iij=(e,t,r,o)=>(c.dynCall_iij=ie.dynCall_iij)(e,t,r,o),c.dynCall_jii=(e,t,r)=>(c.dynCall_jii=ie.dynCall_jii)(e,t,r),c.dynCall_viijii=(e,t,r,o,s,u,f)=>(c.dynCall_viijii=ie.dynCall_viijii)(e,t,r,o,s,u,f),c.dynCall_iiiiij=(e,t,r,o,s,u,f)=>(c.dynCall_iiiiij=ie.dynCall_iiiiij)(e,t,r,o,s,u,f),c.dynCall_iiiiijj=(e,t,r,o,s,u,f,m,v)=>(c.dynCall_iiiiijj=ie.dynCall_iiiiijj)(e,t,r,o,s,u,f,m,v),c.dynCall_iiiiiijj=(e,t,r,o,s,u,f,m,v,h)=>(c.dynCall_iiiiiijj=ie.dynCall_iiiiiijj)(e,t,r,o,s,u,f,m,v,h);var yn;Je=function e(){yn||Tr(),yn||(Je=e)};function Tr(){function e(){if(!yn&&(yn=!0,c.calledRun=!0,!Pt)){if(c.noFSInit||nr||(nr=!0,tr(),c.stdin=c.stdin,c.stdout=c.stdout,c.stderr=c.stderr,c.stdin?Dt("stdin",c.stdin):Mn("/dev/tty","/dev/stdin"),c.stdout?Dt("stdout",null,c.stdout):Mn("/dev/tty","/dev/stdout"),c.stderr?Dt("stderr",null,c.stderr):Mn("/dev/tty1","/dev/stderr"),en("/dev/stdin",0),en("/dev/stdout",1),en("/dev/stderr",1)),zn=!1,_(dt),Le(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var t=c.postRun.shift();at.unshift(t)}_(at)}}if(!(0<je)){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)yt();_(ot),0<je||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),e()},1)):e())}}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Tr(),D.ready}})();const oe=Ae},$=>{$.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.27.1","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},($,U,G)=>{G.r(U),G.d(U,{Animation:()=>Ae.Animation});var Ae=G(4)},($,U,G)=>{G.r(U),G.d(U,{Animation:()=>Ae});var Ae=function(){function oe(be,D,c,Le){this.animation=be,this.artboard=D,this.playing=Le,this.loopCount=0,this.scrubTo=null,this.instance=new c.LinearAnimationInstance(be,D)}return Object.defineProperty(oe.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"time",{get:function(){return this.instance.time},set:function(be){this.instance.time=be},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),oe.prototype.advance=function(be){this.scrubTo===null?this.instance.advance(be):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},oe.prototype.apply=function(be){this.instance.apply(be)},oe.prototype.cleanup=function(){this.instance.delete()},oe}()},($,U,G)=>{G.r(U),G.d(U,{BLANK_URL:()=>oe.BLANK_URL,registerTouchInteractions:()=>Ae.registerTouchInteractions,sanitizeUrl:()=>oe.sanitizeUrl});var Ae=G(6),oe=G(7)},($,U,G)=>{G.r(U),G.d(U,{registerTouchInteractions:()=>be});var Ae=void 0,oe=function(D,c){var Le,_e;return["touchstart","touchmove"].indexOf(D.type)>-1&&(!((Le=D.touches)===null||Le===void 0)&&Le.length)?(c||D.preventDefault(),{clientX:D.touches[0].clientX,clientY:D.touches[0].clientY}):D.type==="touchend"&&(!((_e=D.changedTouches)===null||_e===void 0)&&_e.length)?{clientX:D.changedTouches[0].clientX,clientY:D.changedTouches[0].clientY}:{clientX:D.clientX,clientY:D.clientY}},be=function(D){var c=D.canvas,Le=D.artboard,_e=D.stateMachines,He=_e===void 0?[]:_e,ge=D.renderer,he=D.rive,De=D.fit,pe=D.alignment,we=D.isTouchScrollEnabled,Te=we===void 0?!1:we,Qe=D.layoutScaleFactor,gt=Qe===void 0?1:Qe;if(!c||!He.length||!ge||!he||!Le||typeof window>"u")return null;var it=null,x=!1,Ye=function(ke){if(x&&ke instanceof MouseEvent){ke.type=="mouseup"&&(x=!1);return}x=Te&&ke.type==="touchend"&&it==="touchstart",it=ke.type;var ye=ke.currentTarget.getBoundingClientRect(),Ke=oe(ke,Te),Fe=Ke.clientX,ie=Ke.clientY;if(!(!Fe&&!ie)){var Pt=Fe-ye.left,Me=ie-ye.top,fe=he.computeAlignment(De,pe,{minX:0,minY:0,maxX:ye.width,maxY:ye.height},Le.bounds,gt),Pe=new he.Mat2D;fe.invert(Pe);var Ze=new he.Vec2D(Pt,Me),W=he.mapXY(Pe,Ze),te=W.x(),me=W.y();switch(W.delete(),Pe.delete(),Ze.delete(),fe.delete(),ke.type){case"mouseout":for(var Oe=0,Ve=He;Oe<Ve.length;Oe++){var Ue=Ve[Oe];Ue.pointerMove(te,me)}break;case"touchmove":case"mouseover":case"mousemove":{for(var ot=0,dt=He;ot<dt.length;ot++){var Ue=dt[ot];Ue.pointerMove(te,me)}break}case"touchstart":case"mousedown":{for(var at=0,yt=He;at<yt.length;at++){var Ue=yt[at];Ue.pointerDown(te,me)}break}case"touchend":case"mouseup":{for(var je=0,Je=He;je<Je.length;je++){var Ue=Je[je];Ue.pointerUp(te,me)}break}}}},ue=Ye.bind(Ae);return c.addEventListener("mouseover",ue),c.addEventListener("mouseout",ue),c.addEventListener("mousemove",ue),c.addEventListener("mousedown",ue),c.addEventListener("mouseup",ue),c.addEventListener("touchmove",ue,{passive:Te}),c.addEventListener("touchstart",ue,{passive:Te}),c.addEventListener("touchend",ue),function(){c.removeEventListener("mouseover",ue),c.removeEventListener("mouseout",ue),c.removeEventListener("mousemove",ue),c.removeEventListener("mousedown",ue),c.removeEventListener("mouseup",ue),c.removeEventListener("touchmove",ue),c.removeEventListener("touchstart",ue),c.removeEventListener("touchend",ue)}}},($,U,G)=>{G.r(U),G.d(U,{BLANK_URL:()=>_e,sanitizeUrl:()=>he});var Ae=/^([^\w]*)(javascript|data|vbscript)/im,oe=/&#(\w+)(^\w|;)?/g,be=/&(newline|tab);/gi,D=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,c=/^.+(:|&colon;)/gim,Le=[".","/"],_e="about:blank";function He(De){return Le.indexOf(De[0])>-1}function ge(De){var pe=De.replace(D,"");return pe.replace(oe,function(we,Te){return String.fromCharCode(Te)})}function he(De){if(!De)return _e;var pe=ge(De).replace(be,"").replace(D,"").trim();if(!pe)return _e;if(He(pe))return pe;var we=pe.match(c);if(!we)return pe;var Te=we[0];return Ae.test(Te)?_e:pe}}],le={};function S($){var U=le[$];if(U!==void 0)return U.exports;var G=le[$]={exports:{}};return J[$](G,G.exports,S),G.exports}S.d=($,U)=>{for(var G in U)S.o(U,G)&&!S.o($,G)&&Object.defineProperty($,G,{enumerable:!0,get:U[G]})},S.o=($,U)=>Object.prototype.hasOwnProperty.call($,U),S.r=$=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty($,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($,"__esModule",{value:!0})};var ce={};return(()=>{S.r(ce),S.d(ce,{Alignment:()=>he,DataEnum:()=>te,EventType:()=>x,Fit:()=>ge,Layout:()=>De,LoopType:()=>Ye,Rive:()=>Ze,RiveEventType:()=>Qe,RiveFile:()=>Pe,RuntimeLoader:()=>pe,StateMachineInput:()=>Te,StateMachineInputType:()=>we,Testing:()=>Xt,ViewModel:()=>W,ViewModelInstance:()=>Oe,ViewModelInstanceBoolean:()=>dt,ViewModelInstanceColor:()=>je,ViewModelInstanceEnum:()=>yt,ViewModelInstanceNumber:()=>ot,ViewModelInstanceString:()=>Ue,ViewModelInstanceTrigger:()=>at,ViewModelInstanceValue:()=>Ve,decodeAudio:()=>ht,decodeFont:()=>qt,decodeImage:()=>Gt});var $=S(1),U=S(2),G=S(3),Ae=S(5),oe=function(){var a=function(n,i){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(l[g]=p[g])},a(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");a(n,i);function l(){this.constructor=n}n.prototype=i===null?Object.create(i):(l.prototype=i.prototype,new l)}}(),be=function(){return be=Object.assign||function(a){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&(a[p]=n[p])}return a},be.apply(this,arguments)},D=function(a,n,i,l){function p(g){return g instanceof i?g:new i(function(_){_(g)})}return new(i||(i=Promise))(function(g,_){function T(K){try{I(l.next(K))}catch(de){_(de)}}function B(K){try{I(l.throw(K))}catch(de){_(de)}}function I(K){K.done?g(K.value):p(K.value).then(T,B)}I((l=l.apply(a,n||[])).next())})},c=function(a,n){var i={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},l,p,g,_=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return _.next=T(0),_.throw=T(1),_.return=T(2),typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function T(I){return function(K){return B([I,K])}}function B(I){if(l)throw new TypeError("Generator is already executing.");for(;_&&(_=0,I[0]&&(i=0)),i;)try{if(l=1,p&&(g=I[0]&2?p.return:I[0]?p.throw||((g=p.return)&&g.call(p),0):p.next)&&!(g=g.call(p,I[1])).done)return g;switch(p=0,g&&(I=[I[0]&2,g.value]),I[0]){case 0:case 1:g=I;break;case 4:return i.label++,{value:I[1],done:!1};case 5:i.label++,p=I[1],I=[0];continue;case 7:I=i.ops.pop(),i.trys.pop();continue;default:if(g=i.trys,!(g=g.length>0&&g[g.length-1])&&(I[0]===6||I[0]===2)){i=0;continue}if(I[0]===3&&(!g||I[1]>g[0]&&I[1]<g[3])){i.label=I[1];break}if(I[0]===6&&i.label<g[1]){i.label=g[1],g=I;break}if(g&&i.label<g[2]){i.label=g[2],i.ops.push(I);break}g[2]&&i.ops.pop(),i.trys.pop();continue}I=n.call(a,i)}catch(K){I=[6,K],p=0}finally{l=g=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},Le=function(a,n,i){if(i||arguments.length===2)for(var l=0,p=n.length,g;l<p;l++)(g||!(l in n))&&(g||(g=Array.prototype.slice.call(n,0,l)),g[l]=n[l]);return a.concat(g||Array.prototype.slice.call(n))},_e=function(a){oe(n,a);function n(){var i=a!==null&&a.apply(this,arguments)||this;return i.isHandledError=!0,i}return n}(Error),He=function(a){return a&&a.isHandledError?a.message:"Problem loading file; may be corrupt!"},ge;(function(a){a.Cover="cover",a.Contain="contain",a.Fill="fill",a.FitWidth="fitWidth",a.FitHeight="fitHeight",a.None="none",a.ScaleDown="scaleDown",a.Layout="layout"})(ge||(ge={}));var he;(function(a){a.Center="center",a.TopLeft="topLeft",a.TopCenter="topCenter",a.TopRight="topRight",a.CenterLeft="centerLeft",a.CenterRight="centerRight",a.BottomLeft="bottomLeft",a.BottomCenter="bottomCenter",a.BottomRight="bottomRight"})(he||(he={}));var De=function(){function a(n){var i,l,p,g,_,T,B;this.fit=(i=n==null?void 0:n.fit)!==null&&i!==void 0?i:ge.Contain,this.alignment=(l=n==null?void 0:n.alignment)!==null&&l!==void 0?l:he.Center,this.layoutScaleFactor=(p=n==null?void 0:n.layoutScaleFactor)!==null&&p!==void 0?p:1,this.minX=(g=n==null?void 0:n.minX)!==null&&g!==void 0?g:0,this.minY=(_=n==null?void 0:n.minY)!==null&&_!==void 0?_:0,this.maxX=(T=n==null?void 0:n.maxX)!==null&&T!==void 0?T:0,this.maxY=(B=n==null?void 0:n.maxY)!==null&&B!==void 0?B:0}return a.new=function(n){var i=n.fit,l=n.alignment,p=n.minX,g=n.minY,_=n.maxX,T=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new a({fit:i,alignment:l,minX:p,minY:g,maxX:_,maxY:T})},a.prototype.copyWith=function(n){var i=n.fit,l=n.alignment,p=n.layoutScaleFactor,g=n.minX,_=n.minY,T=n.maxX,B=n.maxY;return new a({fit:i??this.fit,alignment:l??this.alignment,layoutScaleFactor:p??this.layoutScaleFactor,minX:g??this.minX,minY:_??this.minY,maxX:T??this.maxX,maxY:B??this.maxY})},a.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var i;return this.fit===ge.Cover?i=n.Fit.cover:this.fit===ge.Contain?i=n.Fit.contain:this.fit===ge.Fill?i=n.Fit.fill:this.fit===ge.FitWidth?i=n.Fit.fitWidth:this.fit===ge.FitHeight?i=n.Fit.fitHeight:this.fit===ge.ScaleDown?i=n.Fit.scaleDown:this.fit===ge.Layout?i=n.Fit.layout:i=n.Fit.none,this.cachedRuntimeFit=i,i},a.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var i;return this.alignment===he.TopLeft?i=n.Alignment.topLeft:this.alignment===he.TopCenter?i=n.Alignment.topCenter:this.alignment===he.TopRight?i=n.Alignment.topRight:this.alignment===he.CenterLeft?i=n.Alignment.centerLeft:this.alignment===he.CenterRight?i=n.Alignment.centerRight:this.alignment===he.BottomLeft?i=n.Alignment.bottomLeft:this.alignment===he.BottomCenter?i=n.Alignment.bottomCenter:this.alignment===he.BottomRight?i=n.Alignment.bottomRight:i=n.Alignment.center,this.cachedRuntimeAlignment=i,i},a}(),pe=function(){function a(){}return a.loadRuntime=function(){$.default({locateFile:function(){return a.wasmURL}}).then(function(n){var i;for(a.runtime=n;a.callBackQueue.length>0;)(i=a.callBackQueue.shift())===null||i===void 0||i(a.runtime)}).catch(function(n){var i={message:(n==null?void 0:n.message)||"Unknown error",type:(n==null?void 0:n.name)||"Error",wasmError:n instanceof WebAssembly.CompileError||n instanceof WebAssembly.RuntimeError,originalError:n};console.debug("Rive WASM load error details:",i);var l="https://cdn.jsdelivr.net/npm/".concat(U.name,"@").concat(U.version,"/rive_fallback.wasm");if(a.wasmURL.toLowerCase()!==l)console.warn("Failed to load WASM from ".concat(a.wasmURL," (").concat(i.message,"), trying jsdelivr as a backup")),a.setWasmUrl(l),a.loadRuntime();else{var p=["Could not load Rive WASM file from ".concat(a.wasmURL," or ").concat(l,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(i.type),"- Message: ".concat(i.message),"- WebAssembly-specific error: ".concat(i.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(p)}})},a.getInstance=function(n){a.isLoading||(a.isLoading=!0,a.loadRuntime()),a.runtime?n(a.runtime):a.callBackQueue.push(n)},a.awaitInstance=function(){return new Promise(function(n){return a.getInstance(function(i){return n(i)})})},a.setWasmUrl=function(n){a.wasmURL=n},a.getWasmUrl=function(){return a.wasmURL},a.isLoading=!1,a.callBackQueue=[],a.wasmURL="https://unpkg.com/".concat(U.name,"@").concat(U.version,"/rive.wasm"),a}(),we;(function(a){a[a.Number=56]="Number",a[a.Trigger=58]="Trigger",a[a.Boolean=59]="Boolean"})(we||(we={}));var Te=function(){function a(n,i){this.type=n,this.runtimeInput=i}return Object.defineProperty(a.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),a.prototype.fire=function(){this.type===we.Trigger&&this.runtimeInput.fire()},a.prototype.delete=function(){this.runtimeInput=null},a}(),Qe;(function(a){a[a.General=128]="General",a[a.OpenUrl=131]="OpenUrl"})(Qe||(Qe={}));var gt=function(){function a(n,i,l,p){this.stateMachine=n,this.playing=l,this.artboard=p,this.inputs=[],this.instance=new i.StateMachineInstance(n,p),this.initInputs(i)}return Object.defineProperty(a.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"statesChanged",{get:function(){for(var n=[],i=0;i<this.instance.stateChangedCount();i++)n.push(this.instance.stateChangedNameByIndex(i));return n},enumerable:!1,configurable:!0}),a.prototype.advance=function(n){this.instance.advance(n)},a.prototype.advanceAndApply=function(n){this.instance.advanceAndApply(n)},a.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},a.prototype.reportedEventAt=function(n){return this.instance.reportedEventAt(n)},a.prototype.initInputs=function(n){for(var i=0;i<this.instance.inputCount();i++){var l=this.instance.input(i);this.inputs.push(this.mapRuntimeInput(l,n))}},a.prototype.mapRuntimeInput=function(n,i){if(n.type===i.SMIInput.bool)return new Te(we.Boolean,n.asBool());if(n.type===i.SMIInput.number)return new Te(we.Number,n.asNumber());if(n.type===i.SMIInput.trigger)return new Te(we.Trigger,n.asTrigger())},a.prototype.cleanup=function(){this.inputs.forEach(function(n){n.delete()}),this.inputs.length=0,this.instance.delete()},a.prototype.bindViewModelInstance=function(n){n.runtimeInstance!=null&&this.instance.bindViewModelInstance(n.runtimeInstance)},a}(),it=function(){function a(n,i,l,p,g){p===void 0&&(p=[]),g===void 0&&(g=[]),this.runtime=n,this.artboard=i,this.eventManager=l,this.animations=p,this.stateMachines=g}return a.prototype.add=function(n,i,l){if(l===void 0&&(l=!0),n=Se(n),n.length===0)this.animations.forEach(function(ae){return ae.playing=i}),this.stateMachines.forEach(function(ae){return ae.playing=i});else for(var p=this.animations.map(function(ae){return ae.name}),g=this.stateMachines.map(function(ae){return ae.name}),_=0;_<n.length;_++){var T=p.indexOf(n[_]),B=g.indexOf(n[_]);if(T>=0||B>=0)T>=0?this.animations[T].playing=i:this.stateMachines[B].playing=i;else{var I=this.artboard.animationByName(n[_]);if(I){var K=new G.Animation(I,this.artboard,this.runtime,i);K.advance(0),K.apply(1),this.animations.push(K)}else{var de=this.artboard.stateMachineByName(n[_]);if(de){var Ie=new gt(de,this.runtime,i,this.artboard);this.stateMachines.push(Ie)}}}}return l&&(i?this.eventManager.fire({type:x.Play,data:this.playing}):this.eventManager.fire({type:x.Pause,data:this.paused})),i?this.playing:this.paused},a.prototype.initLinearAnimations=function(n,i){for(var l=this.animations.map(function(B){return B.name}),p=0;p<n.length;p++){var g=l.indexOf(n[p]);if(g>=0)this.animations[g].playing=i;else{var _=this.artboard.animationByName(n[p]);if(_){var T=new G.Animation(_,this.artboard,this.runtime,i);T.advance(0),T.apply(1),this.animations.push(T)}else console.error("Animation with name ".concat(n[p]," not found."))}}},a.prototype.initStateMachines=function(n,i){for(var l=this.stateMachines.map(function(B){return B.name}),p=0;p<n.length;p++){var g=l.indexOf(n[p]);if(g>=0)this.stateMachines[g].playing=i;else{var _=this.artboard.stateMachineByName(n[p]);if(_){var T=new gt(_,this.runtime,i,this.artboard);this.stateMachines.push(T),i||T.advanceAndApply(0)}else console.warn("State Machine with name ".concat(n[p]," not found.")),this.initLinearAnimations([n[p]],i)}}},a.prototype.play=function(n){return this.add(n,!0)},a.prototype.pause=function(n){return this.add(n,!1)},a.prototype.scrub=function(n,i){var l=this.animations.filter(function(p){return n.includes(p.name)});return l.forEach(function(p){return p.scrubTo=i}),l.map(function(p){return p.name})},Object.defineProperty(a.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),a.prototype.stop=function(n){var i=this;n=Se(n);var l=[];if(n.length===0)l=this.animations.map(function(_){return _.name}).concat(this.stateMachines.map(function(_){return _.name})),this.animations.forEach(function(_){return _.cleanup()}),this.stateMachines.forEach(function(_){return _.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var p=this.animations.filter(function(_){return n.includes(_.name)});p.forEach(function(_){_.cleanup(),i.animations.splice(i.animations.indexOf(_),1)});var g=this.stateMachines.filter(function(_){return n.includes(_.name)});g.forEach(function(_){_.cleanup(),i.stateMachines.splice(i.stateMachines.indexOf(_),1)}),l=p.map(function(_){return _.name}).concat(g.map(function(_){return _.name}))}return this.eventManager.fire({type:x.Stop,data:l}),l},Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,i){return n||i.playing},!1)||this.stateMachines.reduce(function(n,i){return n||i.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),a.prototype.atLeastOne=function(n,i){i===void 0&&(i=!0);var l;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([l=this.artboard.animationByIndex(0).name],n,i):this.artboard.stateMachineCount()>0&&this.add([l=this.artboard.stateMachineByIndex(0).name],n,i)),l},a.prototype.handleLooping=function(){for(var n=0,i=this.animations.filter(function(p){return p.playing});n<i.length;n++){var l=i[n];l.loopValue===0&&l.loopCount?(l.loopCount=0,this.stop(l.name)):l.loopValue===1&&l.loopCount?(this.eventManager.fire({type:x.Loop,data:{animation:l.name,type:Ye.Loop}}),l.loopCount=0):l.loopValue===2&&l.loopCount>1&&(this.eventManager.fire({type:x.Loop,data:{animation:l.name,type:Ye.PingPong}}),l.loopCount=0)}},a.prototype.handleStateChanges=function(){for(var n=[],i=0,l=this.stateMachines.filter(function(g){return g.playing});i<l.length;i++){var p=l[i];n.push.apply(n,p.statesChanged)}n.length>0&&this.eventManager.fire({type:x.StateChange,data:n})},a.prototype.handleAdvancing=function(n){this.eventManager.fire({type:x.Advance,data:n})},a}(),x;(function(a){a.Load="load",a.LoadError="loaderror",a.Play="play",a.Pause="pause",a.Stop="stop",a.Loop="loop",a.Draw="draw",a.Advance="advance",a.StateChange="statechange",a.RiveEvent="riveevent",a.AudioStatusChange="audiostatuschange"})(x||(x={}));var Ye;(function(a){a.OneShot="oneshot",a.Loop="loop",a.PingPong="pingpong"})(Ye||(Ye={}));var ue=function(){function a(n){n===void 0&&(n=[]),this.listeners=n}return a.prototype.getListeners=function(n){return this.listeners.filter(function(i){return i.type===n})},a.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},a.prototype.remove=function(n){for(var i=0;i<this.listeners.length;i++){var l=this.listeners[i];if(l.type===n.type&&l.callback===n.callback){this.listeners.splice(i,1);break}}},a.prototype.removeAll=function(n){var i=this;n?this.listeners.filter(function(l){return l.type===n}).forEach(function(l){return i.remove(l)}):this.listeners.splice(0,this.listeners.length)},a.prototype.fire=function(n){var i=this.getListeners(n.type);i.forEach(function(l){return l.callback(n)})},a}(),ke=function(){function a(n){this.eventManager=n,this.queue=[]}return a.prototype.add=function(n){this.queue.push(n)},a.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n!=null&&n.action&&n.action(),n!=null&&n.event&&this.eventManager.fire(n.event)}},a}(),ye;(function(a){a[a.AVAILABLE=0]="AVAILABLE",a[a.UNAVAILABLE=1]="UNAVAILABLE"})(ye||(ye={}));var Ke=function(a){oe(n,a);function n(){var i=a!==null&&a.apply(this,arguments)||this;return i._started=!1,i._enabled=!1,i._status=ye.UNAVAILABLE,i}return n.prototype.delay=function(i){return D(this,void 0,void 0,function(){return c(this,function(l){return[2,new Promise(function(p){return setTimeout(p,i)})]})})},n.prototype.timeout=function(){return D(this,void 0,void 0,function(){return c(this,function(i){return[2,new Promise(function(l,p){return setTimeout(p,50)})]})})},n.prototype.reportToListeners=function(){this.fire({type:x.AudioStatusChange}),this.removeAll()},n.prototype.enableAudio=function(){return D(this,void 0,void 0,function(){return c(this,function(i){return this._enabled||(this._enabled=!0,this._status=ye.AVAILABLE,this.reportToListeners()),[2]})})},n.prototype.testAudio=function(){return D(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:if(!(this._status===ye.UNAVAILABLE&&this._audioContext!==null))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return i.sent(),this.enableAudio(),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}})})},n.prototype._establishAudio=function(){return D(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),i.label=2;case 2:return this._status!==ye.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return i.sent(),[4,this.delay(1e3)];case 4:return i.sent(),[3,2];case 5:return[2]}})})},n.prototype.listenForUserAction=function(){var i=this,l=function(){return D(i,void 0,void 0,function(){return c(this,function(p){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",l,{once:!0})},n.prototype.establishAudio=function(){return D(this,void 0,void 0,function(){return c(this,function(i){return this._establishAudio(),[2]})})},Object.defineProperty(n.prototype,"systemVolume",{get:function(){return this._status===ye.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),n}(ue),Fe=new Ke,ie=function(){function a(){}return a.prototype.observe=function(){},a.prototype.unobserve=function(){},a.prototype.disconnect=function(){},a}(),Pt=globalThis.ResizeObserver||ie,Me=function(){function a(){var n=this;this._elementsMap=new Map,this._onObservedEntry=function(i){var l=n._elementsMap.get(i.target);l!==null?l.onResize(i.target.clientWidth==0||i.target.clientHeight==0):n._resizeObserver.unobserve(i.target)},this._onObserved=function(i){i.forEach(n._onObservedEntry)},this._resizeObserver=new Pt(this._onObserved)}return a.prototype.add=function(n,i){var l={onResize:i,element:n};return this._elementsMap.set(n,l),this._resizeObserver.observe(n),l},a.prototype.remove=function(n){this._resizeObserver.unobserve(n.element),this._elementsMap.delete(n.element)},a}(),fe=new Me,Pe=function(){function a(n){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.src=n.src,this.buffer=n.buffer,n.assetLoader&&(this.assetLoader=n.assetLoader),this.enableRiveAssetCDN=typeof n.enableRiveAssetCDN=="boolean"?n.enableRiveAssetCDN:!0,this.eventManager=new ue,n.onLoad&&this.on(x.Load,n.onLoad),n.onLoadError&&this.on(x.LoadError,n.onLoadError)}return a.prototype.initData=function(){return D(this,void 0,void 0,function(){var n,i,l,p;return c(this,function(g){switch(g.label){case 0:return this.src?(n=this,[4,Je(this.src)]):[3,2];case 1:n.buffer=g.sent(),g.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(i=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),l=this,[4,this.runtime.load(new Uint8Array(this.buffer),i,this.enableRiveAssetCDN)]);case 3:if(l.file=g.sent(),this.destroyed)return(p=this.file)===null||p===void 0||p.delete(),this.file=null,[2];if(this.file!==null)this.eventManager.fire({type:x.Load,data:this});else throw this.eventManager.fire({type:x.LoadError,data:null}),new Error(a.fileLoadErrorMessage);return[2]}})})},a.prototype.init=function(){return D(this,void 0,void 0,function(){var n;return c(this,function(i){switch(i.label){case 0:if(!this.src&&!this.buffer)throw new Error(a.missingErrorMessage);return n=this,[4,pe.awaitInstance()];case 1:return n.runtime=i.sent(),this.destroyed?[2]:[4,this.initData()];case 2:return i.sent(),[2]}})})},a.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},a.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},a.prototype.cleanup=function(){var n;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(n=this.file)===null||n===void 0||n.delete(),this.file=null,this.destroyed=!0)},a.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},a.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},a.missingErrorMessage="Rive source file or data buffer required",a.fileLoadErrorMessage="The file failed to load",a}(),Ze=function(){function a(n){var i=this,l;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(p){var g=i._hasZeroSize!==p;i._hasZeroSize=p,p?(!i._layout.maxX||!i._layout.maxY)&&i.resizeToCanvas():g&&i.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=n.canvas,n.canvas.constructor===HTMLCanvasElement&&(this._observed=fe.add(this.canvas,this.onCanvasResize)),this.src=n.src,this.buffer=n.buffer,this.riveFile=n.riveFile,this.layout=(l=n.layout)!==null&&l!==void 0?l:new De,this.shouldDisableRiveListeners=!!n.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!n.isTouchScrollEnabled,this.automaticallyHandleEvents=!!n.automaticallyHandleEvents,this.enableRiveAssetCDN=n.enableRiveAssetCDN===void 0?!0:n.enableRiveAssetCDN,this.eventManager=new ue,n.onLoad&&this.on(x.Load,n.onLoad),n.onLoadError&&this.on(x.LoadError,n.onLoadError),n.onPlay&&this.on(x.Play,n.onPlay),n.onPause&&this.on(x.Pause,n.onPause),n.onStop&&this.on(x.Stop,n.onStop),n.onLoop&&this.on(x.Loop,n.onLoop),n.onStateChange&&this.on(x.StateChange,n.onStateChange),n.onAdvance&&this.on(x.Advance,n.onAdvance),n.onload&&!n.onLoad&&this.on(x.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(x.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(x.Play,n.onplay),n.onpause&&!n.onPause&&this.on(x.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(x.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(x.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(x.StateChange,n.onstatechange),n.assetLoader&&(this.assetLoader=n.assetLoader),this.taskQueue=new ke(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:n.autoplay,autoBind:n.autoBind,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return Object.defineProperty(a.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),a.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new a(n)},a.prototype.onSystemAudioChanged=function(){this.volume=this._volume},a.prototype.init=function(n){var i=this,l=n.src,p=n.buffer,g=n.riveFile,_=n.animations,T=n.stateMachines,B=n.artboard,I=n.autoplay,K=I===void 0?!1:I,de=n.useOffscreenRenderer,Ie=de===void 0?!1:de,ae=n.autoBind,ze=ae===void 0?!1:ae;if(!this.destroyed){if(this.src=l,this.buffer=p,this.riveFile=g,!this.src&&!this.buffer&&!this.riveFile)throw new _e(a.missingErrorMessage);var Ee=Se(_),Be=Se(T);this.loaded=!1,this.readyForPlaying=!1,pe.awaitInstance().then(function(re){i.destroyed||(i.runtime=re,i.removeRiveListeners(),i.deleteRiveRenderer(),i.renderer=i.runtime.makeRenderer(i.canvas,Ie),i.canvas.width||i.canvas.height||i.resizeDrawingSurfaceToCanvas(),i.initData(B,Ee,Be,K,ze).then(function(){return i.setupRiveListeners()}).catch(function(wt){console.error(wt)}))}).catch(function(re){console.error(re)})}},a.prototype.setupRiveListeners=function(n){var i=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var l=(this.animator.stateMachines||[]).filter(function(g){return g.playing&&i.runtime.hasListeners(g.instance)}).map(function(g){return g.instance}),p=this.isTouchScrollEnabled;n&&"isTouchScrollEnabled"in n&&(p=n.isTouchScrollEnabled),this.eventCleanup=(0,Ae.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:l,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:p,layoutScaleFactor:this._layout.layoutScaleFactor})}},a.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},a.prototype.initializeAudio=function(){var n=this,i;Fe.status==ye.UNAVAILABLE&&!((i=this.artboard)===null||i===void 0)&&i.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:x.AudioStatusChange,callback:function(){return n.onSystemAudioChanged()}},Fe.add(this._audioEventListener),Fe.establishAudio())},a.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},a.prototype.initData=function(n,i,l,p,g){return D(this,void 0,void 0,function(){var _,T,B;return c(this,function(I){switch(I.label){case 0:return I.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(this.riveFile=new Pe({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),[4,this.riveFile.init()]);case 1:I.sent(),I.label=2;case 2:if(!this.riveFile)throw new _e(a.cleanupErrorMessage);return this.file=this.riveFile.getInstance(),this.initArtboard(n,i,l,p,g),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:x.Load,data:(B=this.src)!==null&&B!==void 0?B:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];case 3:return _=I.sent(),T=He(_),console.warn(T),this.eventManager.fire({type:x.LoadError,data:T}),[2,Promise.reject(T)];case 4:return[2]}})})},a.prototype.initArtboard=function(n,i,l,p,g){if(this.file){var _=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!_){var T="Invalid artboard name or no default artboard";console.warn(T),this.eventManager.fire({type:x.LoadError,data:T});return}if(this.artboard=_,_.volume=this._volume*Fe.systemVolume,this.artboard.animationCount()<1){var T="Artboard has no animations";throw this.eventManager.fire({type:x.LoadError,data:T}),T}this.animator=new it(this.runtime,this.artboard,this.eventManager);var B;if(i.length>0||l.length>0?(B=i.concat(l),this.animator.initLinearAnimations(i,p),this.animator.initStateMachines(l,p)):B=[this.animator.atLeastOne(p,!1)],this.taskQueue.add({event:{type:p?x.Play:x.Pause,data:B}}),g){var I=this.file.defaultArtboardViewModel(_);if(I!==null){var K=I.defaultInstance();if(K!==null){var de=new Oe(K,null);this.bindViewModelInstance(de)}}}}},a.prototype.drawFrame=function(){var n,i;!((n=document==null?void 0:document.timeline)===null||n===void 0)&&n.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(i=this.runtime)===null||i===void 0||i.resolveAnimationFrame()):this.startRendering()},a.prototype.draw=function(n,i){var l;this.frameRequestId=null;var p=performance.now();this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,i==null||i());var g=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var _=this.animator.animations.filter(function(pt){return pt.playing||pt.needsScrub}).sort(function(pt){return pt.needsScrub?-1:1}),T=0,B=_;T<B.length;T++){var I=B[T];I.advance(g),I.instance.didLoop&&(I.loopCount+=1),I.apply(1)}for(var K=this.animator.stateMachines.filter(function(pt){return pt.playing}),de=0,Ie=K;de<Ie.length;de++){var ae=Ie[de],ze=ae.reportedEventCount();if(ze)for(var Ee=0;Ee<ze;Ee++){var Be=ae.reportedEventAt(Ee);if(Be)if(Be.type===Qe.OpenUrl){if(this.eventManager.fire({type:x.RiveEvent,data:Be}),this.automaticallyHandleEvents){var re=document.createElement("a"),wt=Be,Ft=wt.url,Ot=wt.target,It=(0,Ae.sanitizeUrl)(Ft);Ft&&re.setAttribute("href",It),Ot&&re.setAttribute("target",Ot),It&&It!==Ae.BLANK_URL&&re.click()}}else this.eventManager.fire({type:x.RiveEvent,data:Be})}ae.advanceAndApply(g)}this.animator.stateMachines.length==0&&this.artboard.advance(g);var bt=this.renderer;bt.clear(),bt.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(bt),bt.restore(),bt.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(g),this.frameCount++;var jt=performance.now();for(this.frameTimes.push(jt),this.durations.push(jt-p);this.frameTimes[0]<=jt-1e3;)this.frameTimes.shift(),this.durations.shift();(l=this._viewModelInstance)===null||l===void 0||l.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},a.prototype.alignRenderer=function(){var n=this,i=n.renderer,l=n.runtime,p=n._layout,g=n.artboard;i.align(p.runtimeFit(l),p.runtimeAlignment(l),{minX:p.minX,minY:p.minY,maxX:p.maxX,maxY:p.maxY},g.bounds,this._devicePixelRatioUsed*p.layoutScaleFactor)},Object.defineProperty(a.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,i){return n+i},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),a.prototype.cleanup=function(){var n,i;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&fe.remove(this._observed),this.removeRiveListeners(),this.file&&((n=this.riveFile)===null||n===void 0||n.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(Fe.remove(this._audioEventListener),this._audioEventListener=null),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=null,this._dataEnums=null},a.prototype.deleteRiveRenderer=function(){var n;(n=this.renderer)===null||n===void 0||n.delete(),this.renderer=null},a.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},a.prototype.retrieveTextRun=function(n){var i;if(!n){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var l=this.artboard.textRun(n);if(!l){console.warn("Could not access a text run with name '".concat(n,"' in the '").concat((i=this.artboard)===null||i===void 0?void 0:i.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return l},a.prototype.getTextRunValue=function(n){var i=this.retrieveTextRun(n);return i?i.text:void 0},a.prototype.setTextRunValue=function(n,i){var l=this.retrieveTextRun(n);l&&(l.text=i)},a.prototype.play=function(n,i){var l=this;if(n=Se(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return l.play(n,i)}});return}this.animator.play(n),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},a.prototype.pause=function(n){var i=this;if(n=Se(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.pause(n)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(n)},a.prototype.scrub=function(n,i){var l=this;if(n=Se(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return l.scrub(n,i)}});return}this.animator.scrub(n,i||0),this.drawFrame()},a.prototype.stop=function(n){var i=this;if(n=Se(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.stop(n)}});return}this.animator&&this.animator.stop(n),this.eventCleanup&&this.eventCleanup()},a.prototype.reset=function(n){var i,l,p=n==null?void 0:n.artboard,g=Se(n==null?void 0:n.animations),_=Se(n==null?void 0:n.stateMachines),T=(i=n==null?void 0:n.autoplay)!==null&&i!==void 0?i:!1,B=(l=n==null?void 0:n.autoBind)!==null&&l!==void 0?l:!1;this.cleanupInstances(),this.initArtboard(p,g,_,T,B),this.taskQueue.process()},a.prototype.load=function(n){this.file=null,this.stop(),this.init(n)},Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),a.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},a.prototype.resizeDrawingSurfaceToCanvas=function(n){if(this.canvas instanceof HTMLCanvasElement&&window){var i=this.canvas.getBoundingClientRect(),l=i.width,p=i.height,g=n||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=g,this.canvas.width=g*l,this.canvas.height=g*p,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===ge.Layout){var _=this._layout.layoutScaleFactor;this.artboard.width=l/_,this.artboard.height=p/_}}},Object.defineProperty(a.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.animationCount();i++)n.push(this.artboard.animationByIndex(i).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.stateMachineCount();i++)n.push(this.artboard.stateMachineByIndex(i).name);return n},enumerable:!1,configurable:!0}),a.prototype.stateMachineInputs=function(n){if(this.loaded){var i=this.animator.stateMachines.find(function(l){return l.name===n});return i==null?void 0:i.inputs}},a.prototype.retrieveInputAtPath=function(n,i){if(!n){console.warn("No input name provided for path '".concat(i,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var l=this.artboard.inputByPath(n,i);if(!l){console.warn("Could not access an input with name: '".concat(n,"', at path:'").concat(i,"'"));return}return l},a.prototype.setBooleanStateAtPath=function(n,i,l){var p=this.retrieveInputAtPath(n,l);p&&(p.type===we.Boolean?p.asBool().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(l,"' is not a boolean")))},a.prototype.setNumberStateAtPath=function(n,i,l){var p=this.retrieveInputAtPath(n,l);p&&(p.type===we.Number?p.asNumber().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(l,"' is not a number")))},a.prototype.fireStateAtPath=function(n,i){var l=this.retrieveInputAtPath(n,i);l&&(l.type===we.Trigger?l.asTrigger().fire():console.warn("Input with name: '".concat(n,"', at path:'").concat(i,"' is not a trigger")))},a.prototype.retrieveTextAtPath=function(n,i){if(!n){console.warn("No text name provided for path '".concat(i,"'"));return}if(!i){console.warn("No path provided for text '".concat(n,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var l=this.artboard.textByPath(n,i);if(!l){console.warn("Could not access text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return l},a.prototype.getTextRunValueAtPath=function(n,i){var l=this.retrieveTextAtPath(n,i);if(!l){console.warn("Could not get text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return l.text},a.prototype.setTextRunValueAtPath=function(n,i,l){var p=this.retrieveTextAtPath(n,l);if(!p){console.warn("Could not set text with name: '".concat(n,"', at path:'").concat(l,"'"));return}p.text=i},Object.defineProperty(a.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),a.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},a.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},a.prototype.unsubscribe=function(n,i){console.warn("This function is deprecated: please use `off()` instead."),this.off(n,i)},a.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},a.prototype.unsubscribeAll=function(n){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(n)},a.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},a.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},a.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},a.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(a.prototype,"contents",{get:function(){if(this.loaded){for(var n={artboards:[]},i=0;i<this.file.artboardCount();i++){for(var l=this.file.artboardByIndex(i),p={name:l.name,animations:[],stateMachines:[]},g=0;g<l.animationCount();g++){var _=l.animationByIndex(g);p.animations.push(_.name)}for(var T=0;T<l.stateMachineCount();T++){for(var B=l.stateMachineByIndex(T),I=B.name,K=new this.runtime.StateMachineInstance(B,l),de=[],Ie=0;Ie<K.inputCount();Ie++){var ae=K.input(Ie);de.push({name:ae.name,type:ae.type})}p.stateMachines.push({name:I,inputs:de})}n.artboards.push(p)}return n}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(n){this._volume=n,this.artboard&&(this.artboard.volume=n*Fe.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"artboardWidth",{get:function(){var n;return this.artboard?this.artboard.width:(n=this._artboardWidth)!==null&&n!==void 0?n:0},set:function(n){this._artboardWidth=n,this.artboard&&(this.artboard.width=n)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"artboardHeight",{get:function(){var n;return this.artboard?this.artboard.height:(n=this._artboardHeight)!==null&&n!==void 0?n:0},set:function(n){this._artboardHeight=n,this.artboard&&(this.artboard.height=n)},enumerable:!1,configurable:!0}),a.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(a.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(n){this._devicePixelRatioUsed=n},enumerable:!1,configurable:!0}),a.prototype.bindViewModelInstance=function(n){var i;this.artboard&&!this.destroyed&&n&&n.runtimeInstance&&(n.internalIncrementReferenceCount(),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=n,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(l){return l.bindViewModelInstance(n)}):this.artboard.bindViewModelInstance(n.runtimeInstance))},Object.defineProperty(a.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),a.prototype.viewModelByIndex=function(n){var i=this.file.viewModelByIndex(n);return i!==null?new W(i):null},a.prototype.viewModelByName=function(n){var i=this.file.viewModelByName(n);return i!==null?new W(i):null},a.prototype.enums=function(){if(this._dataEnums===null){var n=this.file.enums();this._dataEnums=n.map(function(i){return new te(i)})}return this._dataEnums},a.prototype.defaultViewModel=function(){if(this.artboard){var n=this.file.defaultArtboardViewModel(this.artboard);if(n)return new W(n)}return null},a.missingErrorMessage="Rive source file or data buffer required",a.cleanupErrorMessage="Attempt to use file after calling cleanup.",a}(),W=function(){function a(n){this._viewModel=n}return Object.defineProperty(a.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),a.prototype.instanceByIndex=function(n){var i=this._viewModel.instanceByIndex(n);return i!==null?new Oe(i,null):null},a.prototype.instanceByName=function(n){var i=this._viewModel.instanceByName(n);return i!==null?new Oe(i,null):null},a.prototype.defaultInstance=function(){var n=this._viewModel.defaultInstance();return n!==null?new Oe(n,null):null},a.prototype.instance=function(){var n=this._viewModel.instance();return n!==null?new Oe(n,null):null},Object.defineProperty(a.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),a}(),te=function(){function a(n){this._dataEnum=n}return Object.defineProperty(a.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),a}(),me;(function(a){a.Number="number",a.String="string",a.Boolean="boolean",a.Color="color",a.Trigger="trigger",a.Enum="enum"})(me||(me={}));var Oe=function(){function a(n,i){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this._runtimeInstance=n,i!==null&&this._parents.push(i)}return Object.defineProperty(a.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),a.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(n){n.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(n){n.clearChanges()})),this._children.forEach(function(n){return n.handleCallbacks()})},a.prototype.addParent=function(n){this._parents.push(n),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&n.addToViewModelCallbacks(this)},a.prototype.removeParent=function(n){var i=this._parents.indexOf(n);if(i!==-1){var l=this._parents[i];l.removeFromViewModelCallbacks(this),this._parents.splice(i,1)}},a.prototype.addToPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)||(this._propertiesWithCallbacks.push(n),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(l){l.addToViewModelCallbacks(i)}))},a.prototype.removeFromPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(l){return l!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(l){l.removeFromViewModelCallbacks(i)}))},a.prototype.addToViewModelCallbacks=function(n){var i=this;this._children.includes(n)||(this._children.push(n),this._parents.forEach(function(l){l.addToViewModelCallbacks(i)}))},a.prototype.removeFromViewModelCallbacks=function(n){var i=this;this._children.includes(n)&&(this._children=this._children.filter(function(l){return l!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(l){l.removeFromViewModelCallbacks(i)}))},a.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(n){n.clearCallbacks()})},a.prototype.propertyFromPath=function(n,i){var l=n.split("/");return this.propertyFromPathSegments(l,0,i)},a.prototype.viewModelFromPathSegments=function(n,i){var l=this.internalViewModelInstance(n[i]);return l!==null?i==n.length-1?l:l.viewModelFromPathSegments(n,i++):null},a.prototype.propertyFromPathSegments=function(n,i,l){var p,g,_,T,B,I,K,de,Ie,ae,ze,Ee;if(i<n.length-1){var Be=this.internalViewModelInstance(n[i]);return Be!==null?Be.propertyFromPathSegments(n,i+1,l):null}var re=null;switch(l){case me.Number:if(re=(g=(p=this._runtimeInstance)===null||p===void 0?void 0:p.number(n[i]))!==null&&g!==void 0?g:null,re!==null)return new ot(re,this);break;case me.String:if(re=(T=(_=this._runtimeInstance)===null||_===void 0?void 0:_.string(n[i]))!==null&&T!==void 0?T:null,re!==null)return new Ue(re,this);break;case me.Boolean:if(re=(I=(B=this._runtimeInstance)===null||B===void 0?void 0:B.boolean(n[i]))!==null&&I!==void 0?I:null,re!==null)return new dt(re,this);break;case me.Color:if(re=(de=(K=this._runtimeInstance)===null||K===void 0?void 0:K.color(n[i]))!==null&&de!==void 0?de:null,re!==null)return new je(re,this);break;case me.Trigger:if(re=(ae=(Ie=this._runtimeInstance)===null||Ie===void 0?void 0:Ie.trigger(n[i]))!==null&&ae!==void 0?ae:null,re!==null)return new at(re,this);break;case me.Enum:if(re=(Ee=(ze=this._runtimeInstance)===null||ze===void 0?void 0:ze.enum(n[i]))!==null&&Ee!==void 0?Ee:null,re!==null)return new yt(re,this);break}return null},a.prototype.internalViewModelInstance=function(n){var i;if(this._viewModelInstances.has(n))return this._viewModelInstances.get(n);var l=(i=this._runtimeInstance)===null||i===void 0?void 0:i.viewModel(n);if(l!==null){var p=new a(l,this);return p.internalIncrementReferenceCount(),this._viewModelInstances.set(n,p),p}return null},a.prototype.number=function(n){var i=this.propertyFromPath(n,me.Number);return i},a.prototype.string=function(n){var i=this.propertyFromPath(n,me.String);return i},a.prototype.boolean=function(n){var i=this.propertyFromPath(n,me.Boolean);return i},a.prototype.color=function(n){var i=this.propertyFromPath(n,me.Color);return i},a.prototype.trigger=function(n){var i=this.propertyFromPath(n,me.Trigger);return i},a.prototype.enum=function(n){var i=this.propertyFromPath(n,me.Enum);return i},a.prototype.viewModel=function(n){var i=n.split("/"),l=i.length>1?this.viewModelFromPathSegments(i.slice(0,i.length-1),0):this;return l!=null?l.internalViewModelInstance(i[i.length-1]):null},a.prototype.internalReplaceViewModel=function(n,i){var l;if(i.runtimeInstance!==null){var p=((l=this._runtimeInstance)===null||l===void 0?void 0:l.replaceViewModel(n,i.runtimeInstance))||!1;if(p){i.internalIncrementReferenceCount();var g=this.internalViewModelInstance(n);g!==null&&(g.removeParent(this),this._children.includes(g)&&(this._children=this._children.filter(function(_){return _!==g})),g.cleanup()),this._viewModelInstances.set(n,i),i.addParent(this)}return p}return!1},a.prototype.replaceViewModel=function(n,i){var l,p=n.split("/"),g=p.length>1?this.viewModelFromPathSegments(p.slice(0,p.length-1),0):this;return(l=g==null?void 0:g.internalReplaceViewModel(p[p.length-1],i))!==null&&l!==void 0?l:!1},a.prototype.incrementReferenceCount=function(){var n;this._referenceCount++,(n=this._runtimeInstance)===null||n===void 0||n.incrementReferenceCount()},a.prototype.decrementReferenceCount=function(){var n;this._referenceCount--,(n=this._runtimeInstance)===null||n===void 0||n.decrementReferenceCount()},Object.defineProperty(a.prototype,"properties",{get:function(){var n;return((n=this._runtimeInstance)===null||n===void 0?void 0:n.getProperties().map(function(i){return be({},i)}))||[]},enumerable:!1,configurable:!0}),a.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},a.prototype.cleanup=function(){var n=this;if(this._referenceCount--,this._referenceCount<=0){this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(p){p.cleanup()}),this._viewModelInstances.clear();var i=Le([],this._children,!0);this._children.length=0;var l=Le([],this._parents,!0);this._parents.length=0,i.forEach(function(p){p.removeParent(n)}),l.forEach(function(p){p.removeFromViewModelCallbacks(n)})}},a}(),Ve=function(){function a(n,i){this.callbacks=[],this._viewModelInstanceValue=n,this._parentViewModel=i}return a.prototype.on=function(n){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(n)||(this.callbacks.push(n),this._parentViewModel.addToPropertyCallbacks(this))},a.prototype.off=function(n){n?this.callbacks=this.callbacks.filter(function(i){return i!==n}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},a.prototype.internalHandleCallback=function(n){},a.prototype.handleCallbacks=function(){var n=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(i){n.internalHandleCallback(i)})},a.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},a.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(a.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),a}(),Ue=function(a){oe(n,a);function n(i,l){return a.call(this,i,l)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n}(Ve),ot=function(a){oe(n,a);function n(i,l){return a.call(this,i,l)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n}(Ve),dt=function(a){oe(n,a);function n(i,l){return a.call(this,i,l)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n}(Ve),at=function(a){oe(n,a);function n(i,l){return a.call(this,i,l)||this}return n.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},n.prototype.internalHandleCallback=function(i){i()},n}(Ve),yt=function(a){oe(n,a);function n(i,l){return a.call(this,i,l)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(i){this._viewModelInstanceValue.valueIndex=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n}(Ve),je=function(a){oe(n,a);function n(i,l){return a.call(this,i,l)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.rgb=function(i,l,p){this._viewModelInstanceValue.rgb(i,l,p)},n.prototype.rgba=function(i,l,p,g){this._viewModelInstanceValue.argb(g,i,l,p)},n.prototype.argb=function(i,l,p,g){this._viewModelInstanceValue.argb(i,l,p,g)},n.prototype.alpha=function(i){this._viewModelInstanceValue.alpha(i)},n.prototype.opacity=function(i){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,i))*255))},n.prototype.internalHandleCallback=function(i){i(this.value)},n}(Ve),Je=function(a){return D(void 0,void 0,void 0,function(){var n,i,l;return c(this,function(p){switch(p.label){case 0:return n=new Request(a),[4,fetch(n)];case 1:return i=p.sent(),[4,i.arrayBuffer()];case 2:return l=p.sent(),[2,l]}})})},Se=function(a){return typeof a=="string"?[a]:a instanceof Array?a:[]},Xt={EventManager:ue,TaskQueueManager:ke},ht=function(a){return new Promise(function(n){return pe.getInstance(function(i){i.decodeAudio(a,n)})})},Gt=function(a){return new Promise(function(n){return pe.getInstance(function(i){i.decodeImage(a,n)})})},qt=function(a){return new Promise(function(n){return pe.getInstance(function(i){i.decodeFont(a,n)})})}})(),ce})())}(wn)),wn.exports}var Wr=_i();function Nr(){const F=O.teams.length,j=document.createElement("div");j.className="team-input",j.innerHTML=`
        <label>Команда ${F+1}</label>
        <div class="input-area">
            <input id="team-${F}" placeholder="Название команды">
            <div class="button remove" id="remove-${F}">
            <canvas id ="delBtn"></canvas>
            </div>
            </div>
        </div>
    `;const J=j.querySelector("#delBtn"),le=new Wr.Rive({artboard:"pasted",src:"/computerQuiz.io/rive/deleteBtn.riv",canvas:J,autoplay:!0,stateMachines:"sm1",onLoad:()=>{const ce=le.stateMachineInputs("sm1").find($=>$.name==="Trigger 1");J.addEventListener("click",()=>{ce.fire()})}});z.teamsContainer.appendChild(j),document.getElementById(`remove-${F}`).addEventListener("click",wi),O.teams.push({id:F,name:"",points:0}),document.getElementById(`team-${F}`).addEventListener("input",S=>{const ce=S.target.attributes[0].nodeValue,$=+ce.slice(ce.indexOf("-")+1);O.teams[$].name=S.target.value.trim(),Ur()}),O.teams.length>=2&&(z.startGame.classList.remove("disabled"),z.startGame.addEventListener("click",kn))}function Ci(){O.teams.forEach(F=>{F.points=0}),O.usedQuestions=[],O.gameStarted=!1,document.getElementById("winnerModal").style.display="none",document.querySelector(".setup").style.display="block",z.gameBoard.style.display="none",Un()}function Ai(){const F=document.getElementById("addTeam"),j=new Wr.Rive({src:"/computerQuiz.io/rive/addBtn.riv",canvas:F,autoplay:!0,stateMachines:"sm1",onLoad:()=>{const le=j.stateMachineInputs("sm1").find(S=>S.name==="t1");F.onclick=()=>{le.fire(),setTimeout(()=>{Nr()},200)}}})}function Mi(){Ai(),Nr(),z.showAnswer.addEventListener("click",Nn),z.addPoints.addEventListener("click",Wn),z.closeModal.addEventListener("click",bn),z.restartGame.addEventListener("click",Ci)}z.closeModal.addEventListener("click",()=>{O.questionClosedManually=!0,bn()});window.onload=Mi;
